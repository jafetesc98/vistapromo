import{_ as v}from"./loading.16b03cf4.js";import{d as C,b as s,v as g,e as b,f as l,w as a,N as k,t as h,o as m,g as o,h as y,m as u,i as c,O as $,a as w,P as x}from"./index.b1b638ec.js";import{_ as B}from"./TablePrmCap.6b134ea1.js";import{_ as V}from"./SectionTitleLine.df243fcb.js";import{C as M}from"./CardBoxComponentEmpty.5239687e.js";import{g as O}from"./getData.5726d001.js";const P=w("img",{src:v,alt:"",class:"block mx-auto"},null,-1),F={__name:"MisCapturas",setup(N){const p=C(),t=s(!0),i=s(!1),_=g(()=>r.value),r=s([]);s("/vistapromo/capturar");const f=async function(){let n=await O(h+"prm-usr?compr="+p.nomCto);if(n.ok)await n.json().then(e=>{r.value=e});else return console.log("Respuesta de red OK pero respuesta HTTP no OK"),{}};return b(async function(){await f(),i.value=Object.keys(r).length>0,t.value=!1}),(n,e)=>(m(),l(k,null,{default:a(()=>[o(y,{hasFooter:!1,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d),blocked:!0,title:"Cargando la informaci\xF3n"},{default:a(()=>[P]),_:1},8,["modelValue"]),o($,null,{default:a(()=>[o(V,{icon:u(x),title:"Mis Promociones Capturadas",main:""},null,8,["icon"]),i.value?(m(),l(c,{key:0,class:"mb-6","has-table":""},{default:a(()=>[o(B,{promos:u(_),vista:"porComprador"},null,8,["promos"])]),_:1})):(m(),l(c,{key:1},{default:a(()=>[o(M)]),_:1}))]),_:1})]),_:1}))}};export{F as default};

import{p as S,d as V,b as d,v as u,o as s,c as n,F as _,K as m,C as l,D as h,a as e,Q as I,g as b,w as p,f as g,m as i,R as L,l as v,k as y,S as M,T as R,t as z}from"./index.c66a3d0c.js";const H={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},K={class:"px-3"},O={key:0},Q=e("th",{class:"text-center"},"ID PRM",-1),U=e("th",null,"Proveedor",-1),q=e("th",null,"Descripcion",-1),G=e("th",{class:"text-center"},"Fec Ini",-1),J=e("th",{class:"text-center"},"Fec Fin",-1),W=e("th",{class:"text-center"},"Tipo",-1),X=e("th",{class:"text-center"},"Estado",-1),Y=e("th",null,null,-1),Z=["data-label"],tt=["data-label"],et=e("br",null,null,-1),at={class:"text-sm"},st=["data-label"],lt=["data-label"],nt=["data-label"],rt=["data-label"],ct=["data-label"],ot={key:0,class:"before:hidden lg:w-1 whitespace-nowrap"},it={key:1,class:"before:hidden lg:w-1 whitespace-nowrap"},dt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},_t={__name:"TablePrmCap",props:{checkable:Boolean,promos:[Array,Object],vista:{type:String,default:""}},setup(P){const f=P,E=a=>{switch(a){case"0":return"En revisi\xF3n";case"1":return"Autorizada";case"2":return"Descartada";case"-2":return"Eliminada";case"-1":default:return"Por revisar"}},F=a=>{switch(a=parseInt(a),a){case 1:return"Precio Promoci\xF3n";case 5:return"mercanc\xEDa sin cargo";case 6:return"Precio + mercanc\xEDa sin cargo";default:return"no identificada"}},x=S(),C=V();d(!1),d(!1);const k=d(10),o=d(0),w=d([]),j=u(()=>f.promos.slice(k.value*o.value,k.value*(o.value+1))),D=u(()=>Math.ceil(f.promos.length/k.value)),B=u(()=>o.value+1),T=u(()=>{const a=[];for(let r=0;r<D.value;r++)a.push(r);return a});function c(a){let r=a.target.closest("td");C.numProm=r.getAttribute("data-label"),x.push({path:"/detalle-prom"})}function $(a){let r=a.target.closest("button");C.numProm=r.getAttribute("data-label"),x.push({path:"/vistapromo/editar-prom"})}function A(a){window.open(z+"formato?idprom="+a,"_blank")}return(a,r)=>(s(),n(_,null,[w.value.length?(s(),n("div",H,[(s(!0),n(_,null,m(w.value,t=>(s(),n("span",{key:t.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},l(t.name),1))),128))])):h("",!0),e("table",K,[e("thead",null,[e("tr",null,[P.checkable?(s(),n("th",O)):h("",!0),Q,U,q,G,J,W,X,Y])]),e("tbody",null,[(s(!0),n(_,null,m(i(j),t=>(s(),n("tr",{key:t.id},[e("td",{"data-label":t.id,to:"/vistapromo/capturar",onClick:c,class:"cursor-pointer text-center"},l(t.id),9,Z),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},[I(l(t.proveedor)+" ",1),et,e("span",at,l(t.nom_prov.trim()),1)],8,tt),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},l(t.desProm),9,st),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},l(t.fec_ini),9,lt),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},l(t.fec_fin),9,nt),e("td",{"data-label":t.id,class:"uppercase cursor-pointer text-center",onClick:c},l(F(t.tpoProm)),9,rt),e("td",{"data-label":t.id,class:"uppercase cursor-pointer text-center",onClick:c},l(E(t.status)),9,ct),f.vista=="porComprador"?(s(),n("td",ot,[b(y,{type:"justify-start lg:justify-end","no-wrap":""},{default:p(()=>[t.status=="-1"?(s(),g(v,{key:0,color:"info",icon:i(L),small:"","data-label":t.id,onClick:$},null,8,["icon","data-label"])):h("",!0)]),_:2},1024)])):(s(),n("td",it,[b(y,{type:"justify-start lg:justify-end","no-wrap":""},{default:p(()=>[t.status=="1"?(s(),g(v,{key:0,color:"info",icon:i(M),small:"","data-label":t.id,onClick:N=>A(t.id)},null,8,["icon","data-label","onClick"])):h("",!0)]),_:2},1024)]))]))),128))])]),e("div",dt,[b(R,null,{default:p(()=>[b(y,null,{default:p(()=>[(s(!0),n(_,null,m(i(T),t=>(s(),g(v,{key:t,active:t===o.value,label:t+1,color:t===o.value?"lightDark":"whiteDark",small:"",onClick:N=>o.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"P\xE1gina "+l(i(B))+" de "+l(i(D)),1)]),_:1})])],64))}};export{_t as _};

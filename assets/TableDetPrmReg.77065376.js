import{e as A,d as y,b as i,o as _,c as p,a as t,C as s,F as x,K as $}from"./index.e8690458.js";const E={autoriza:null,boletin:null,cantidad_minima:null,compra_minima:null,con_pag:null,created_at:"",cte:null,desProm:"",fec_fin:"",fec_ini:"",folio_ac:"",hra_fin:"",hra_ini:"",id:"",inc_similares:"",mostrador:null,numProm:null,paga:"",proveedor:"",retail:"",seg_0:null,seg_1:null,seg_2:null,seg_3:null,seg_4:null,status:"",tpoProm:"",u_alt:"",uds_limite:null,uds_por_cte:null,uds_vendidas:null,updated_at:""},P={class:"px-3"},O=t("td",{class:"py-2 text-sm"},[t("b",null,"FOLIO:")],-1),g={class:"py-2 text-sm",id:"folioprm"},F=t("td",{class:"py-2 text-sm"},[t("b",null,"ESTADO:")],-1),I={class:"py-2 text-sm tracking-wider font-medium",id:"estado"},R=t("td",{class:"py-2 text-sm"},[t("b",null,"FOLIO MKS:")],-1),C={class:"py-2 text-sm"},S=t("td",{class:"py-2 text-sm"},[t("b",null,"AUTORIZADA POR:")],-1),v={class:"py-2 text-sm"},M=t("td",{class:"py-2 text-sm"},[t("b",null,"DESCRIPCI\xD3N:")],-1),N={class:"py-2 text-sm",colspan:"3"},D=t("td",{class:"py-2 text-sm"},[t("b",null,"PAGA:")],-1),L={class:"py-2 text-sm"},T=t("td",{class:"py-2 text-sm"},[t("b",null,"Tipo Promoci\xF3n:")],-1),B={class:"py-2 text-sm tracking-wider font-medium",id:"tpoProm"},j=t("td",{class:"py-2 text-sm"},[t("b",null,"PROVEEDOR:")],-1),k={class:"py-2 text-sm",colspan:"3"},G=t("td",{class:"py-2 text-sm"},[t("b",null,"ACUERDO:")],-1),V={class:"py-2 text-sm"},U=t("td",{class:"py-2 text-sm"},[t("b",null,"BOLET\xCDN:")],-1),w={class:"py-2 text-sm"},Z=t("td",{class:"py-2 text-sm"},[t("b",null,"PERIODO:")],-1),z={class:"py-2 text-sm"},K=t("td",{class:"py-2 text-sm"},[t("b",null,"APLICA SIM:")],-1),H={class:"py-2 text-sm"},X=t("td",{class:"py-2 text-sm"},[t("b",null,"CLIENTE:")],-1),Y={class:"py-2 text-sm"},q=t("td",{class:"py-2 text-sm"},[t("b",null,"SUC PRECIO BASE:")],-1),J={class:"py-2 text-sm"},Q=t("td",{class:"py-2 text-sm"},[t("b",null,"SUCURSALES:")],-1),W={class:"py-2 text-sm",colspan:"5"},tt=t("td",{class:"py-2 text-sm"},[t("b",null,"APLICA A:")],-1),st={class:"py-2 text-sm"},et=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 1:")],-1),ot={class:"py-2 text-sm"},ct=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 2:")],-1),nt={class:"py-2 text-sm"},lt=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 3:")],-1),rt={class:"py-2 text-sm"},dt=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 4:")],-1),at={class:"py-2 text-sm"},_t=t("td",{class:"py-2 text-sm"},[t("b",null,"LIM A:")],-1),pt={class:"py-2 text-sm"},it=t("td",{class:"py-2 text-sm"},[t("b",null,"UNI X VTA:")],-1),mt={class:"py-2 text-sm"},ut=t("td",{class:"py-2 text-sm"},[t("b",null,"CANT MIN:")],-1),ht={class:"py-2 text-sm"},xt=t("td",{class:"py-2 text-sm"},[t("b",null,"MONTO MIN:")],-1),yt={class:"py-2 text-sm"},$t=t("td",{class:"py-2 text-sm"},[t("b",null,"COND PAG:")],-1),bt={class:"py-2 text-sm"},ft=t("td",{class:"py-2 text-sm",colspan:"5"},[t("b",null,"CAPTURADA POR:")],-1),At={class:"py-2 text-sm"},as={__name:"TableHdrPrm",props:{checkable:Boolean,prmhdr:{type:[Object,Array],default:E},sucs:{type:[Object,Array],default:[]}},setup(m){const e=m;A(async function(){r()}),y(),i(!1),i(!1);const r=()=>{if(e.prmhdr.id==null||e.prmhdr.id=="")return;let c=e.prmhdr.id.toString();for(let l=c.length;l<7;l++)c="0"+c;document.getElementById("folioprm").textContent=c},a=()=>{let c=e.prmhdr.status;if(c=="")return;let l=document.getElementById("estado");c=parseInt(c);let h=document.getElementById("tpoProm");switch(e.prmhdr.tpoProm==1?h.classList.add("text-blue-500"):h.classList.add("text-violet-500"),c){case 1:return l.classList.add("text-teal-600"),"AUTORIZADA";case-1:return"POR REVISAR";case 0:return l.classList.add("text-rose-200"),"EN REVISI\xD3N";case-2:return l.classList.add("text-red-600"),"ELIMINADA";case 2:return l.classList.add("text-red-600"),"DENEGADA";default:return""}},n=()=>e.prmhdr.numProm==""||e.prmhdr.numProm==null?"----------":e.prmhdr.tpoProm==6?e.prmhdr.numProm+" / "+e.prmhdr.numPromReg+"(REG)":e.prmhdr.numProm,o=c=>c==""||c==null?"----------":c.slice(6)+"/"+c.slice(4,6)+"/"+c.slice(0,4),d=()=>{if(e.sucs.length==0)return"----------";let c="";for(let l=0;l<e.sucs.length;l++)c+=e.sucs[l].suc+", ";return c=c.slice(0,-2),c},u=()=>{if(e.prmhdr.paga=="")return"----------";switch(e.prmhdr.paga){case 1:case"1":return"PROVEEDOR";case 2:case"2":return"MINIABASTOS";case 3:case"3":return"PROVEEDOR Y MINIABASTOS";default:return"----------"}},b=()=>{switch(console.log(e.prmhdr.tpoProm),e.prmhdr.tpoProm){case 1:case"1":return"PROMOCI\xD3N PRECIO";case 5:case"5":return"MERCANC\xCDA SIN CARGO";case 6:case"6":return"PRECIO + MERCANC\xCDA SIN CARGO";default:return"----------"}},f=()=>{let c="",l=e.prmhdr.retail!=null&&e.prmhdr.retail!="0";return e.prmhdr.mostrador!=null&&e.prmhdr.mostrador!="0"?(c+="MOSTRADOR",l&&(c+=", RETAIL"),c):l?"RETAIL":"----------"};return(c,l)=>(_(),p("table",P,[t("tbody",null,[t("tr",null,[O,t("td",g,s(e.prmhdr.id),1),F,t("td",I,s(a()),1),R,t("td",C,s(n()),1),S,t("td",v,s(e.prmhdr.autoriza),1)]),t("tr",null,[M,t("td",N,s(e.prmhdr.desProm),1),D,t("td",L,s(u()),1),T,t("td",B,s(b()),1)]),t("tr",null,[j,t("td",k,s(e.prmhdr.proveedor+" - "+e.prmhdr.nom_prov),1),G,t("td",V,s(e.prmhdr.folio_ac),1),U,t("td",w,s(e.prmhdr.boletin),1)]),t("tr",null,[Z,t("td",z,s(o(e.prmhdr.fec_ini))+" - "+s(o(e.prmhdr.fec_fin)),1),K,t("td",H,s(e.prmhdr.inc_similares),1),X,t("td",Y,s(e.prmhdr.cte),1),q,t("td",J,s(e.prmhdr.suc_prec_base),1)]),t("tr",null,[Q,t("td",W,[t("p",null,s(d()),1)]),tt,t("td",st,s(f()),1)]),t("tr",null,[et,t("td",ot,s(e.prmhdr.seg_0),1),ct,t("td",nt,s(e.prmhdr.seg_1),1),lt,t("td",rt,s(e.prmhdr.seg_2),1),dt,t("td",at,s(e.prmhdr.seg_3),1)]),t("tr",null,[_t,t("td",pt,s(e.prmhdr.uds_limite),1),it,t("td",mt,s(e.prmhdr.uds_por_cte),1),ut,t("td",ht,s(e.prmhdr.cantidad_minima),1),xt,t("td",yt,s(e.prmhdr.compra_minima),1)]),t("tr",null,[$t,t("td",bt,s(e.prmhdr.con_pag),1),ft,t("td",At,s(e.prmhdr.u_alt),1)])])]))}},Et={class:"px-3 text-sm"},Pt=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"C\xF3digo"),t("th",null,"Descripci\xF3n"),t("th",{class:"text-center"},"Emp"),t("th",{class:"text-center"},"Precio Actual"),t("th",{class:"text-center"},"Precio Oferta"),t("th",{class:"text-center"},"Diferencia"),t("th",{class:"text-center"},"% Descuento")])],-1),Ot={class:"py-1 text-center",rowspan:"5"},gt={class:"py-1",rowspan:"5"},Ft={class:"py-1 text-center"},It={class:"py-1 text-center"},Rt={class:"py-1 text-center"},Ct={class:"py-1 text-center"},St={class:"py-1 text-center"},vt={class:"py-1 text-center"},Mt={class:"py-1 text-center"},Nt={class:"py-1 text-center"},Dt={class:"py-1 text-center"},Lt={class:"py-1 text-center"},Tt={class:"py-1 text-center"},Bt={class:"py-1 text-center"},jt={class:"py-1 text-center"},kt={class:"py-1 text-center"},Gt={class:"py-1 text-center"},Vt={class:"py-1 text-center"},Ut={class:"py-1 text-center"},wt={class:"py-1 text-center"},Zt={class:"py-1 text-center"},zt={class:"py-1 text-center"},Kt={class:"py-1 text-center"},Ht={class:"py-1 text-center"},Xt={class:"py-1 text-center"},Yt={class:"py-1 text-center"},qt={class:"py-1 text-center"},Jt=t("tr",null,[t("td",{colspan:"7",class:"p-1"},[t("div",{class:"bg-red px-1"})])],-1),_s={__name:"TableDetPrm",props:{checkable:Boolean,promos:[Array,Object]},setup(m){const e=m;y(),i(!1),i(!1);function r(a,n,o){let d={};if(n!="")d.precio=n,d.neta=Number((a-n).toFixed(2)).toFixed(2),d.porcentaje=Number((100-n*100/a).toFixed(4)).toFixed(4);else{let u=Number(a.toFixed(2)-(a*o/100).toFixed(2)).toFixed(2);d.precio=u,d.neta=Number(a-d.precio),d.porcentaje=o}return d}return(a,n)=>(_(),p("table",Et,[Pt,t("tbody",null,[(_(!0),p(x,null,$(e.promos,o=>(_(),p(x,{key:o.cve_art},[t("tr",null,[t("td",Ot,[t("b",null,s(o.cve_art),1)]),t("td",gt,s(o.des_art),1),t("td",Ft,s(o.cant_pre0),1),t("td",It,"$ "+s((Math.round(parseFloat(o.precio_vta0)*100)/100).toFixed(2)),1),t("td",Rt,"$ "+s((Math.round(parseFloat(o.precio_0)*100)/100).toFixed(2)),1),t("td",Ct,"$ "+s(r(o.precio_vta0,o.precio_0,"").neta),1),t("td",St,s(r(o.precio_vta0,o.precio_0,"").porcentaje)+" %",1)]),t("tr",null,[t("td",vt,s(o.cant_pre1),1),t("td",Mt,"$ "+s((Math.round(parseFloat(o.precio_vta1)*100)/100).toFixed(2)),1),t("td",Nt,"$ "+s((Math.round(parseFloat(o.precio_1)*100)/100).toFixed(2)),1),t("td",Dt,"$ "+s(r(o.precio_vta1,o.precio_1,"").neta),1),t("td",Lt,s(r(o.precio_vta1,o.precio_1,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Tt,s(o.cant_pre2),1),t("td",Bt,"$ "+s((Math.round(parseFloat(o.precio_vta2)*100)/100).toFixed(2)),1),t("td",jt,"$ "+s((Math.round(parseFloat(o.precio_2)*100)/100).toFixed(2)),1),t("td",kt,"$ "+s(r(o.precio_vta2,o.precio_2,"").neta),1),t("td",Gt,s(r(o.precio_vta2,o.precio_2,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Vt,s(o.cant_pre3),1),t("td",Ut,"$ "+s((Math.round(parseFloat(o.precio_vta3)*100)/100).toFixed(2)),1),t("td",wt,"$ "+s((Math.round(parseFloat(o.precio_3)*100)/100).toFixed(2)),1),t("td",Zt,"$ "+s(r(o.precio_vta3,o.precio_3,"").neta),1),t("td",zt,s(r(o.precio_vta3,o.precio_3,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Kt,s(o.cant_pre4),1),t("td",Ht,"$ "+s((Math.round(parseFloat(o.precio_vta4)*100)/100).toFixed(2)),1),t("td",Xt,"$ "+s((Math.round(parseFloat(o.precio_4)*100)/100).toFixed(2)),1),t("td",Yt,"$ "+s(r(o.precio_vta4,o.precio_4,"").neta),1),t("td",qt,s(r(o.precio_vta4,o.precio_4,"").porcentaje)+" %",1)]),Jt],64))),128))])]))}},Qt={class:"px-3 text-sm"},Wt=t("thead",null,[t("tr",null,[t("th",{class:"",colspan:"2"},"Comprando"),t("th",{class:"",colspan:"2"},"De la CVE"),t("th",{class:"",colspan:"2"},"Se regalan"),t("th",{class:"",colspan:"2"},"De la CVE")])],-1),ts={class:"py-1"},ss=t("td",{class:"py-1 text-center"},"PZAS",-1),es={class:"py-1 text-center"},os={class:"py-1"},cs={class:"py-1 text-center"},ns={class:"py-1 text-center"},ls={class:"py-1 text-center"},rs={class:"py-1"},ps={__name:"TableDetPrmReg",props:{checkable:Boolean,promos:[Array,Object]},setup(m){const e=m;return y(),i(!1),i(!1),(r,a)=>(_(),p("table",Qt,[Wt,t("tbody",null,[(_(!0),p(x,null,$(e.promos,n=>(_(),p("tr",{key:n.cve},[t("td",ts,s(parseFloat(n.cobradas)),1),ss,t("td",es,s(n.cve_art),1),t("td",os,s(n.des_art),1),t("td",cs,s(parseFloat(n.regaladas)),1),t("td",ns,s(n.emp_reg),1),t("td",ls,s(n.art_reg),1),t("td",rs,s(n.desc_reg),1)]))),128))])]))}};export{as as _,ps as a,_s as b};

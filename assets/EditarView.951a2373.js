import{v as de,b,r as _e,d as vo,e as fo,t as q,f as B,w as d,N as bo,o as p,g as r,h as W,a as h,C as J,m as x,i as Ue,j as we,c as z,K as De,F as Ne,D as y,O as Te,X as qe,ah as ne,k as yo,l as se,p as Eo,Y as Bo,ai as Io}from"./index.f4e78581.js";import{_ as ho}from"./loading.16b03cf4.js";import{_ as $e}from"./checked.4cad9791.js";import{_ as ee,R as Co,a as Vo,b as Ao,c as ko,d as Po,e as xo,f as So,g as Mo}from"./Accordion.9a9ea3a2.js";import{_ as Uo}from"./FormCheckRadioGroup.2e8a65a1.js";import{_ as s}from"./FormField.387ad117.js";import{_ as i}from"./FormControl.3ab95e85.js";import{_ as wo}from"./SectionTitleLine.75fea51b.js";import"./FormCheckRadio.35f56cd1.js";const Do=h("img",{src:ho,alt:"",class:"block mx-auto"},null,-1),No=h("img",{src:$e,alt:"",class:"block mx-auto"},null,-1),To=h("img",{src:Mo,alt:"",class:"block mx-auto"},null,-1),qo=h("img",{src:$e,alt:"",class:"block mx-auto"},null,-1),$o={id:"prov_list"},Oo=["value"],Ro={id:"ac_list"},Lo=["value"],Fo=h("label",null,"Art\xEDculos Capturados: ",-1),zo={key:1,class:"mt-6"},Ko={key:0},jo={key:1},Ho={class:"mx-auto mt-8"},Zo=h("label",null,"Art\xEDculos Capturados: ",-1),at={__name:"EditarView",setup(Jo){const ve=Eo(),X=[{id:"PZA",label:"PIEZA"},{id:"PAQ",label:"PAQUETE"},{id:"CJA",label:"CAJA"}],Oe=["ene","feb","mar","abr","may","jun","jul","ago","sep","ago","oct","nov","dic"],fe=[{id:"001",label:"001"},{id:"002",label:"002"},{id:"003",label:"003"},{id:"012",label:"012"},{id:"013",label:"013"},{id:"015",label:"015"},{id:"024",label:"024"},{id:"-1",label:"Sucursal seleccionada"}],be=[{id:1,label:"Promoci\xF3n De Precio",default:!0},{id:5,label:"Mercanc\xEDa sin Cargo"},{id:6,label:"Precio + Mercanc\xEDa sin Cargo"},{id:3,label:"Precio Especifico por Articulo"},{id:2,label:"Combo"}],ye=[{id:0,label:"Baja de precio",default:!0},{id:1,label:"Promoci\xF3n"}],Re=[{id:"CRED",label:"CR\xC9DITO"},{id:"CTDO",label:"CONTADO"},{id:"XCOB",label:"POR COBRAR"}],Ee=[{id:1,label:"Paga Proveedor"},{id:2,label:"Paga MiniAbastos"},{id:3,label:"Pagan Ambos"}],T=[{id:"",label:"SELECCIONE UNO"},{id:"BAS",label:"TARJETA BASICA"},{id:"CON",label:"CONSUMO TIENDA"},{id:"ESP",label:"CLIENTE ESPECIAL"},{id:"EXP",label:"CLIENTE CREDITO EXPO"},{id:"INA",label:"INAPAM"},{id:"MAY",label:"PRUEBA SEG MAY"},{id:"MIN",label:"MINORISTAS"},{id:"MUJ",label:"MUJER"},{id:"PRF",label:"TARJETA PREFERENCIAL"},{id:"PRM",label:"TARJETA PREMIUM"},{id:"PUB",label:"PUBLICO"},{id:"RUT",label:"VENTA EN RUTA"}],ce=de(()=>o),ue=b(""),ie=b(""),me=b(""),oe=b([]),c=de(()=>oe.value);b([]);const o=_e({nombre:"",tipo:be[0].id,indicador:ye[0].id,proveedor:"",paga:Ee[0].id,folioAcuerdo:"",limPzs:"",udsVenta:"",cantMin:"",montoMin:"",vigencia:"",fec_ini:"",fec_fin:"",aplicaSim:"",cliente:"",condPago:"",seg1:T[0].id,seg2:T[0].id,seg3:T[0].id,seg4:T[0].id,sucSelected:[],aplicaA:"",mostrador:null,retail:null,u_alta:"",precBase:fe[1].id,arts:oe,cve:""});_e({});const D=vo(),Le=de(()=>$.value),$=b({}),te=de(()=>K.value),K=b({}),V=b(!1),I=b(""),j=b(!1),Be=()=>{};b(!0),b(0),fo(async()=>{o.tipo=1,I.value="",await Fe(),await Xe(),await Ie(),document.getElementById("acc_desc").click(),document.getElementById("acc_prov").click(),document.getElementById("acc_suc").click(),await G(),U.value=!1,await ro(u.value.suc),await he();let l=document.getElementsByName("zona");for(let t=0;t<l.length;t++)l[t].addEventListener("change",Ze,!0);let e=document.querySelectorAll("[zona]");for(let t=0;t<e.length;t++)e[t].addEventListener("change",Je,!0);await Ge(),o.tipo==2&&(console.log("entra condicion para buscar"),document.getElementById("cod_cob"),le(c.value)),(o.tipo==5||o.tipo==6)&&(document.getElementById("cod_cob"),document.getElementById("art_reg"))});async function Fe(){var l=document.getElementById("seg1"),e=document.getElementById("seg2"),t=document.getElementById("seg3"),a=document.getElementById("seg4");l[0].disabled=!0,e[0].disabled=!0,t[0].disabled=!0,a[0].disabled=!0;let n=D.numComprador;return await fetch(q+"prov?compr="+n+"&usr="+D.nomCto).then(async function(g){if(g.ok)await g.json().then(v=>($.value=v,Y));else return console.log("Respuesta de red OK pero respuesta HTTP no OK"),{}}).catch(function(g){return console.log("Hubo un problema con la petici\xF3n Fetch:"+g.message),{}})}async function Ie(){let l=D.numComprador,e=o.proveedor.trim().split(" ");return e=e[0],await fetch(q+"acuerdos?compr="+l+"&prov="+e+"&usr="+D.nomCto).then(async function(t){if(t.ok)await t.json().then(a=>(K.value=a,Y));else return console.log("Respuesta de red OK pero respuesta HTTP no OK"),{}}).catch(function(t){return console.log("Hubo un problema con la petici\xF3n Fetch:"+t.message),{}})}async function ze(l){if(console.log("inicia el metodo"),o.tipo==5||o.tipo==6){if(l.target.setAttribute("disabled",!0),U.value=!0,R.value!=""||H.value!="")return console.log("tiene errores en campos de regalo"),S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(o.cve))return console.log("Esta duplicada"),S("El art\xEDculo ya est\xE1 capturado",l);if(o.tipo==6){let t=document.getElementById("cod_cob");if(console.log(t.value,"codigo cobrado"),t.value==null)return console.log("el tipo de proo6 detono la promo"),S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);o.cve=t.value.trim(),o.des1=document.getElementById("desc_art_cob").value}let e={};if(e.cve=o.cve,e.cod_reg=o.cod_reg,e.cobradas=o.cobradas,e.regaladas=o.regaladas,e.emp_cob=o.fac_min_compra,e.emp_reg=o.fac_min_regalo,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=document.getElementById("fac_min_reg").value,console.log("!!",e.cve),console.log("!!",e.cod_reg),console.log("!!",e.regaladas),console.log("!!",e.cobradas),console.log("!!",e.emp_cob),console.log("!!",e.emp_reg),console.log("!!",e.des1),console.log("!!",e.desc_reg),console.log("!!",e.fac_min_reg),e.cve==""||e.cve==null||e.cod_reg==""||e.cod_reg==null||e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.emp_reg==""||e.emp_reg==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null||e.fac_min_reg==""||e.fac_min_reg==null)return S("Debe capturar todos los campos requeridos",l);o.tipo==6&&(document.getElementById("desc_art").textContent="",document.getElementById("inputConsultar").value="",document.getElementById("cod_cob").value="",e=Ke(e)),c.value.push(e),U.value=!1,l.target.removeAttribute("disabled"),O(),o.tipo==6&&Se(),console.log(c.value)}if(o.tipo==3){if(console.log("!!",a.cve),console.log("!!",a.cod_reg),console.log("!!",a.regaladas),console.log("!!",a.cobradas),console.log("!!",a.emp_cob),console.log("!!",a.emp_reg),console.log("!!",a.des1),console.log("!!",a.desc_reg),console.log("!!",a.fac_min_reg),document.getElementById("cobradas").value<=1){V.value=!0,I.value="Debe de capturar una cantidad mayor a 1";return}if(document.getElementById("regaladas").value<=1){V.value=!0,I.value="Debe de capturar un precio mayor a $1";return}if(l.target.setAttribute("disabled",!0),U.value=!0,R.value!=""||H.value!="")return S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(o.cve))return S("El art\xEDculo ya est\xE1 capturado",l);let a={};if(a.cve=o.cve,a.cod_reg=o.cod_reg,a.cobradas=o.cobradas,a.regaladas=o.regaladas,console.log("agregar art ",o.regaladas/o.cobradas),a.emp_cob=o.fac_min_compra,a.emp_reg=o.fac_min_reg,a.des1=document.getElementById("desc_art_cob").value,a.desc_reg=document.getElementById("desc_art_reg").value,a.fac_min_reg=o.fac_min_regalo,a.regaladas==""||a.regaladas==null||a.cobradas==""||a.cobradas==null||a.emp_cob==""||a.emp_cob==null||a.des1==""||a.des1==null||a.desc_reg==""||a.desc_reg==null)return S("Debe capturar todos los campos requeridos",l);c.value.push(a),U.value=!1,l.target.removeAttribute("disabled"),O(),le(c.value)}if(o.tipo==2||o.tipo==4){if(document.getElementById("cobradas").value<1){V.value=!0,I.value="Debe de capturar una cantidad mayor a 0";return}if(document.getElementById("regaladas").value<=1){V.value=!0,I.value="Debe de capturar un precio mayor a $1";return}if(l.target.setAttribute("disabled",!0),U.value=!0,R.value!=""||H.value!="")return S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(o.cve))return S("El art\xEDculo ya est\xE1 capturado",l);let a={};if(a.cve=o.cve,a.cod_reg=o.cod_reg,a.cobradas=o.cobradas,a.regaladas=o.regaladas,a.emp_cob=o.fac_min_compra,a.emp_reg=o.fac_min_reg,a.des1=document.getElementById("desc_art_cob").value,a.desc_reg=document.getElementById("desc_art_reg").value,a.fac_min_reg=o.fac_min_regalo,a.regaladas==""||a.regaladas==null||a.cobradas==""||a.cobradas==null||a.emp_cob==""||a.emp_cob==null||a.des1==""||a.des1==null||a.desc_reg==""||a.desc_reg==null)return S("Debe capturar todos los campos requeridos",l);c.value.push(a),U.value=!1,l.target.removeAttribute("disabled"),O(),document.getElementById("cobradas").focus(),le(c.value)}}function le(l){console.log(l);let e=0;for(let a=0;a<l.length;a++)e+=l[a].cobradas*l[a].regaladas;let t=document.getElementById("totalCombo");console.log(e),t.innerText="$"+e.toFixed(2)}function Ke(l){let e=document.getElementById("pre_prom1").value,t=document.getElementById("pre_prom2").value,a=document.getElementById("pre_prom3").value,n=document.getElementById("pre_prom4").value,g=document.getElementById("pre_prom5").value;return l.precio1=e,l.precio2=t,l.precio3=a,l.precio4=n,l.precio5=g,l}function je(){if(o.tipo==5||o.tipo==6){let l={};if(l.cod_cob=o.cod_cob,l.cve=o.cve,l.cod_reg=o.cod_reg,l.cobradas=o.cobradas,l.regaladas=o.regaladas,l.emp_cob=o.fac_min_compra,l.emp_reg=o.fac_min_regalo,l.desc_cob=document.getElementById("desc_art_cob").value,l.des1=document.getElementById("desc_art_cob").value,l.desc_reg=document.getElementById("desc_art_reg").value,l.fac_min_reg=o.fac_min_reg,console.log(l.desc_reg,l.desc_cob,"descripciones"),l.cve==""||l.cve==null||l.cod_reg==""||l.cod_reg==null||l.regaladas==""||l.regaladas==null||l.cobradas==""||l.cobradas==null||l.emp_cob==""||l.emp_cob==null||l.emp_reg==""||l.emp_reg==null||l.desc_cob==""||l.desc_cob==null||l.desc_reg==""||l.desc_reg==null||l.fac_min_reg==""||l.fac_min_reg==null)return S("Debe capturar todos los campos requeridos",event);let e=document.getElementById("cod_cob").getAttribute("data-label"),t=ge(e);c.value[t],c.value[t]=l,o.tipo==6&&uo(t),document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),O()}if(o.tipo==3){let l=document.getElementById("cobradas").value;if(console.log(l),l<=1){V.value=!0,I.value="Debe de capturar una cantidad mayo a 1";return}let e={};if(e.cod_cob=o.cod_cob,e.cve=o.cve,e.cod_reg=o.cod_reg,e.cobradas=o.cobradas,e.regaladas=o.regaladas,console.log("agregar art ",o.regaladas/o.cobradas),e.emp_cob=o.fac_min_compra,e.emp_reg=o.fac_min_reg,e.desc_cob=document.getElementById("desc_art_cob").value,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=o.fac_min_regalo,e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null)return S("Debe capturar todos los campos requeridos",event);let t=document.getElementById("cod_cob").getAttribute("data-label"),a=ge(t);c.value[a],c.value[a]=e,document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),O()}if(o.tipo==2){if(document.getElementById("cobradas").value<1){V.value=!0,I.value="Debe de capturar una cantidad mayo a 1";return}let e={};if(e.cod_cob=o.cod_cob,e.cve=o.cve,e.cod_reg=o.cod_reg,e.cobradas=o.cobradas,e.regaladas=o.regaladas,e.emp_cob=o.fac_min_compra,e.emp_reg=o.fac_min_reg,e.desc_cob=document.getElementById("desc_art_cob").value,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=o.fac_min_regalo,e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null)return S("Debe capturar todos los campos requeridos",event);let t=document.getElementById("cod_cob").getAttribute("data-label"),a=ge(t);c.value[a],c.value[a]=e,console.log("se actualizo el articulo",e),document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),document.getElementById("cobradas").focus(),le(c.value),O(c.value)}}function pe(l){console.log(c.value,"artscapturados");for(let e=0;e<c.value.length;e++)if(c.value[e].cve==l)return!0;return!1}function ge(l){for(let e=0;e<c.value.length;e++)if(c.value[e].cve==l)return e;return-1}function O(){o.fac_min_reg=X[0].id,o.fac_min_compra=X[0].id,o.cobradas=1,o.regaladas=1,o.fac_min_regalo=1,o.cod_reg="",o.cve="",document.getElementById("desc_art_cob").value="",document.getElementById("desc_art_reg").value="",document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),o.tipo==6&&(console.log("deberia ser de hibirda"),Se(),document.getElementById("desc_art").textContent="",document.getElementById("inputConsultar").value="")}async function S(l,e){U.value=!1,I.value=l,j.value=!0,e.target.removeAttribute("disabled"),await ae(1500),j.value=!1}async function He(l,e,t,a,n){U.value=!0,fetch(q+"art?art="+l+"&suc="+e+"&prov="+t+"&empaque="+a).then(function(g){U.value=!1,g.ok?g.json().then(v=>{Y=v,n.value=l,n.id=="cod_cob"&&o.tipo==3||o.tipo==2?(R.value="",document.getElementById("desc_art_cob").value=v.des1,document.getElementById("desc_art_reg").value=v.precio_vta0):n.id=="cod_cob"&&o.tipo==5||o.tipo==6?(R.value="",document.getElementById("desc_art_cob").value=v.des1):(H.value="",document.getElementById("desc_art_reg").value=v.des1)}):(g.json().then(async v=>{I.value=v.message,j.value=!0,await ae(1500),j.value=!1,n.id=="cod_cob"?(document.getElementById("cod_cob").focus(),R.value=v.message):H.value=v.message}),console.log("Respuesta de red OK pero respuesta HTTP no OK"))}).catch(function(g){console.log("Hubo un problema con la petici\xF3n Fetch:"+g.message),n.value=l})}const R=b(""),H=b("");function Ze(l){switch(l.target.value){case"COSTA":o.precBase="013";break;case"ISTMO":o.precBase="024";break;case"VALLES":o.precBase="001";break;case"TODAS":o.precBase="001";break}}function Je(l){document.getElementById("zona-valles");let e=document.getElementById("zona-costa"),t=document.getElementById("zona-istmo"),a=document.getElementById("zona-todas"),n=document.getElementById("zona-custom"),g=document.getElementById("suc_001"),v=document.getElementById("suc_013"),M=document.getElementById("suc_024");switch(document.getElementById("suc_003"),document.getElementById("suc_012"),document.getElementById("suc_015"),l.target.value){case"001":l.target.checked?o.precBase="001":v.checked?o.precBase="013":M.checked?o.precBase="024":o.precBase="003";break;case"013":l.target.checked?g.checked||(o.precBase="013"):e.checked?o.precBase="012":(n.checked||a.checked)&&(M.checked?o.precBase="024":o.precBase="003");break;case"024":l.target.checked?g.checked||(o.precBase="024"):t.checked&&(o.precBase="015");break;default:!l.target.checked&&!g.checked&&!v.checked&&!M.checked&&(a.checked||n.checked)&&(o.precBase="003");break}}async function he(){oe.value=[],(o.tipo==5||o.tipo==6)&&(document.getElementById("cod_cob"),document.getElementById("art_reg")),o.tipo==6&&co(),(o.tipo==3||o.tipo==2)&&(console.log("entra condicion para buscar"),document.getElementById("cod_cob"));var l=document.getElementById("mostrador"),e=document.getElementById("txtmost"),t=document.getElementById("retail"),a=document.getElementById("cod_cob");o.tipo==2||o.tipo==3||o.tipo==4?(console.log("entra condicion para deshabilitar mostrador"),e.style.opacity="0.5",l.style.opacity="0.5",l.disabled=!0,l.checked=!1,t.checked=!0,a.disabled=!1,Ce()):(e.style.opacity="1",l.style.opacity="1",l.disabled=!1,l.checked=!0,t.checked=!1)}var u=_e({});async function Xe(){let l=D.numComprador,e=D.numProm;return await fetch(q+"promocion?idprom="+e+"&compr="+l).then(async function(t){if(t.ok)await t.json().then(a=>(u.value=a,Y));else return{}}).catch(function(t){return console.log("Hubo un problema con la petici\xF3n Fetch:"+t.message),{}})}function Ce(){let l=document.getElementById("suc_001"),e=document.getElementById("txt_001");l.style.opacity="0.5",e.style.opacity="0.5",l.disabled=!0,l.checked=!1;let t=document.getElementById("suc_002"),a=document.getElementById("txt_002");t.style.opacity="0.5",a.style.opacity="0.5",t.disabled=!0,t.checked=!1;let n=document.getElementById("suc_013"),g=document.getElementById("txt_013");n.style.opacity="0.5",g.style.opacity="0.5",n.disabled=!0,n.checked=!1;let v=document.getElementById("suc_024"),M=document.getElementById("txt_024");v.style.opacity="0.5",M.style.opacity="0.5",v.disabled=!0,v.checked=!1;let N=document.getElementById("suc_037"),_=document.getElementById("txt_037");N.style.opacity="0.5",_.style.opacity="0.5",N.disabled=!0,N.checked=!1;let f=document.getElementById("suc_051"),w=document.getElementById("txt_051");f.style.opacity="0.5",w.style.opacity="0.5",f.disabled=!0,f.checked=!1;let A=document.getElementById("suc_053"),m=document.getElementById("txt_053");A.style.opacity="0.5",m.style.opacity="0.5",A.disabled=!0,A.checked=!1;let E=document.getElementById("suc_057"),C=document.getElementById("txt_057");E.style.opacity="0.5",C.style.opacity="0.5",E.disabled=!0,E.checked=!1}function Ye(l){for(let e=0;e<$.value.length;e++)if($.value[e].proveedor.includes(l))return $.value[e]}async function Ge(){o.nombre=u.value.prom.desProm,o.tipo=u.value.prom.tpoProm,We.value=u.value.prom.tpoProm=="1",eo.value=u.value.prom.tpoProm,o.indicador=u.value.prom.indicador;let l=Ye(u.value.prom.proveedor);u.value.prom.nom_prov==null?o.proveedor="COMBO":o.proveedor=l.proveedor+" - "+l.nom,o.paga=u.value.prom.paga,o.folioAcuerdo=u.value.prom.folio_ac,o.limPzs=u.value.prom.uds_limite,o.udsVenta=u.value.prom.uds_por_cte,o.cantMin=u.value.prom.cantidad_minima,o.montoMin=u.value.prom.compra_minima,o.fec_ini=re(u.value.prom.fec_ini),o.fec_fin=re(u.value.prom.fec_fin),o.vigencia=o.fec_ini+" ~ "+o.fec_fin,document.getElementById("idvig").value=o.vigencia,u.value.prom.inc_similares=="S"?document.getElementsByName("similares")[0].checked=!0:document.getElementsByName("similares")[0].checked=!1,o.cliente=u.value.prom.cte,o.condPago=u.value.prom.con_pag,o.seg1=u.value.prom.seg_0,o.seg2=u.value.prom.seg_1,o.seg3=u.value.prom.seg_2,o.seg4=u.value.prom.seg_3,o.boletin=u.value.prom.boletin;let e=document.getElementById("mostrador"),t=document.getElementById("retail");u.value.prom.mostrador=="1"?e.checked=!0:e.checked=!1,u.value.prom.retail=="1"?t.checked=!0:t.checked=!1,(o.tipo==2||o.tipo==3)&&Ce(),o.u_alta=u.value.prom.u_alta,o.precBase=u.value.prom.suc_prec_base,re(u.value.prom.fec_ini),re(u.value.prom.fec_fin),so(u.value.arts)}async function Ve(l){l.target.id=="cod_cob"?(console.log("Fue el cobrado"),document.getElementById("desc_art_cob")):document.getElementById("desc_art_reg");let e=l.target.value;document.getElementById("sucbase").value,o.sucSelected=Pe(),o.precBase=="-1"&&(o.precBase=o.sucSelected[0],console.log("antes de consultar",o.precBase,o.sucSelected[0]));let t;o.tipo==2?t="N":t=document.getElementById("prov").value.slice(0,9);var a=document.getElementById("emp_cob"),n=a.options[document.getElementById("emp_cob").selectedIndex].value;console.log(n),n.length==0&&(n=""),await He(e,o.precBase,t,n,l.target)}var Y={};function Qe(l){for(let e=0;e<te.value.length;e++)if(te.value[e].Folio==l.target.value){document.getElementById("boletin").value="",document.getElementById("boletin").value=te.value[e].boletin;return}}b(!1);const We=b(!0),eo=b(),U=b(!0);function ae(l){return new Promise(e=>setTimeout(e,l))}async function oo(l){let e=document.getElementById("cliente").value;if(l.target.classList.remove("ring","ring-red-500"),me.value="",e!="")return console.log("entra el else"),await fetch(q+"cliente?nCliente="+e).then(async function(t){if(t.ok)await t.json().then(a=>{K.value=a,console.log(a);var n=a.cve+"-"+a.nom;return document.getElementById("cliente").value=n,Y});else return l.target.classList.add("ring","ring-red-500"),me.value="El cliente no existe",console.log("Respuesta "),{}}).catch(function(t){return console.log("Hubo un problema con la petici\xF3n Fetch:"+t.message),{}})}async function G(l){var e=document.getElementById("seg1"),t=document.getElementById("seg2"),a=document.getElementById("seg3"),n=document.getElementById("seg4"),g=document.getElementById("seg1").selectedIndex,v=document.getElementById("seg2").selectedIndex,M=document.getElementById("seg3").selectedIndex,N=document.getElementById("seg4").selectedIndex,_="",f="",w="",A="";if(g!=-1&&(_=e.options[document.getElementById("seg1").selectedIndex].value),v!=-1&&(f=t.options[document.getElementById("seg2").selectedIndex].value),M!=-1&&(w=a.options[document.getElementById("seg3").selectedIndex].value),N!=-1&&(A=n.options[document.getElementById("seg4").selectedIndex].value),l=="seg1"){for(var _=e.options[document.getElementById("seg1").selectedIndex].value,m=0;m<t.length;m++){var E=t[m],C=a[m],k=n[m];E.value==w||E.value==A?E.disabled=!0:E.disabled=!1,C.value==f||C.value==A?C.disabled=!0:C.disabled=!1,k.value==f||k.value==w?k.disabled=!0:k.disabled=!1}let L=t.querySelector(`option[value="${_}"]`);L.disabled=!0;let F=a.querySelector(`option[value="${_}"]`);F.disabled=!0;let _o=n.querySelector(`option[value="${_}"]`);_o.disabled=!0}if(l=="seg2"){for(var m=0;m<t.length;m++){var P=e[m],C=a[m],k=n[m];P.value==w||P.value==A?P.disabled=!0:P.disabled=!1,C.value==_||C.value==A?C.disabled=!0:C.disabled=!1,k.value==_||k.value==w?k.disabled=!0:k.disabled=!1}let Q=e.querySelector(`option[value="${f}"]`);Q.disabled=!0;let L=a.querySelector(`option[value="${f}"]`);L.disabled=!0;let F=n.querySelector(`option[value="${f}"]`);F.disabled=!0}if(l=="seg3"){for(var m=0;m<t.length;m++){var P=e[m],E=t[m],k=n[m];P.value==f||P.value==A?P.disabled=!0:P.disabled=!1,E.value==_||E.value==A?E.disabled=!0:E.disabled=!1,k.value==_||k.value==f?k.disabled=!0:k.disabled=!1}let Q=e.querySelector(`option[value="${w}"]`);Q.disabled=!0;let L=t.querySelector(`option[value="${w}"]`);L.disabled=!0;let F=n.querySelector(`option[value="${w}"]`);F.disabled=!0}if(l=="seg4"){for(var m=0;m<e.length;m++){var P=e[m],E=t[m],C=a[m];P.value==f||P.value==w?P.disabled=!0:P.disabled=!1,E.value==_||E.value==w?E.disabled=!0:E.disabled=!1,C.value==_||C.value==f?C.disabled=!0:C.disabled=!1}let Q=e.querySelector(`option[value="${A}"]`);Q.disabled=!0;let L=t.querySelector(`option[value="${A}"]`);L.disabled=!0;let F=a.querySelector(`option[value="${A}"]`);F.disabled=!0}e[0].disabled=!0,t[0].disabled=!0,a[0].disabled=!0,n[0].disabled=!0}function to(l){let e=document.querySelectorAll("[atr='requerido']");for(let _=0;_<e.length;_++)if(e[_].value==""||e[_].value==null){V.value=!0,I.value='El campo "'+e[_].name+'" no puede quedar vac\xEDo';return}let t=document.getElementById("idvig").value;if(t==""){V.value=!0,I.value='El campo "vigencia" no puede quedar vac\xEDo';return}let a=t.split("~");if(new Date(a[0]),new Date(a[1]),o.vigencia=t,o.fec_ini=Ae(a[0]),o.fec_fin=Ae(a[1]),console.log("fecha: ",o.fec_ini),console.log("fecha: ",o.fec_ini),c.value.length<1){V.value=!0,I.value="No captur\xF3 ning\xFAn art\xEDculo en la promoci\xF3n.",console.log("No capturo articulos");return}if(o.sucSelected=Pe(),o.sucSelected.length<1){V.value=!0,I.value="No seleccion\xF3 ninguna sucursal para aplicar la promoci\xF3n.";return}o.precBase=="-1"&&(o.precBase=o.sucSelected[0]);let n=document.getElementById("mostrador"),g=document.getElementById("retail");n.checked?o.mostrador=1:o.mostrador=0,g.checked?o.retail=1:o.retail=0,o.u_alta=D.nomCto;let v=o.proveedor.trim().split(" ");o.proveedor=v[0];let M={datos:o};if(o.tipo==1||o.tipo==5||o.tipo==6){console.log("los datos son:",M),console.log(D.numProm);var N=D.numProm.split(" ");ke(q+"upd-prm?idprom="+N[0],M).then(async _=>{console.log("respuesta post"),console.log(_),"error"in _?(console.log("Tiene errores"),I.value="Ocurri\xF3 un error al guardar. "+_.error,V.value=!0):(console.log("NO tiene errores"),Z.value=!0,await ae(1500),Z.value=!1,Me(_.id+" "+o.tipo),ve.push({path:"/vistapromo/mis-capturas"}))})}if(o.tipo==2||o.tipo==3||o.tipo==4){console.log("ver ",M);var N=D.numProm.split(" ");ke(q+"upd-cmb?idprom="+N[0],M).then(async f=>{console.log("respuesta post"),console.log(f),"error"in f?(console.log("Tiene errores"),I.value="Ocurri\xF3 un error al guardar. "+f.error,V.value=!0):(console.log("NO tiene errores"),Z.value=!0,await ae(1500),Z.value=!1,Me(f.id+" "+o.tipo),ve.push({path:"/vistapromo/mis-capturas"}))})}}function lo(l){return l<10?"0"+(l+1):""+l}function ao(l){return l<10?"0"+l:""+l}function Ae(l){l=l.trim();let e=l.split(" "),t=lo(Oe.indexOf(e[1]+"")),a=e[2]+""+t+e[0];return console.log(a),a}async function ke(l="",e={}){const t=await fetch(l,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)});return console.log(t),t.json()}function Pe(){let l=[],e=document.getElementsByClassName("sucursal");for(let t=0;t<e.length;t++)e[t].checked&&l.push(e[t].value);return l}async function ro(l){let e=l;for(let t=0;t<e.length;t++)document.getElementById("suc_"+e[t].suc).checked=!0}async function no(l){o.proveedor,oe.value=[],l.target.classList.remove("ring","ring-red-500"),ue.value="";let e=!1,t=document.getElementById("acuerdo");o.folioAcuerdo="",t.removeAttribute("disabled"),t.classList.remove("ring","ring-red-500"),ie.value="";for(let a=0;a<$.value.length;a++)if($.value[a].proveedor==o.proveedor.trim().split(" ")[0]){e=!0,console.log("si existe");break}e||(l.target.classList.add("ring","ring-red-500"),ue.value="Proveedor no existe o no est\xE1 ligado a su usuario"),await Ie(),console.log(K.value),console.log(K.value.length==0),K.value.length==0&&(t.setAttribute("disabled",""),t.classList.add("ring","ring-red-500"),ie.value="No se encontr\xF3 ning\xFAn acuerdo ligado a este proveedor")}function re(l){let e=l.substring(0,4),t=l.substring(4,6),a=l.substring(6),n=new Date(e,parseInt(t)-1,a),g=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"];return console.log("dia",n.getDate()),ao(n.getDate())+" "+g[n.getMonth()]+" "+n.getFullYear()}function so(l){let e={};if(u.value.prom.tpoProm==1||u.value.prom.tpoProm==5||u.value.prom.tpoProm==6){for(let t=0;t<l.length;t++)e={},e.cve=l[t].cve_art,e.precio1=l[t].precio_0,e.precio2=l[t].precio_1,e.precio3=l[t].precio_2,e.precio4=l[t].precio_3,e.precio5=l[t].precio_4,e.des1=l[t].des_art,e.cobradas=parseFloat(l[t].cobradas),e.emp_cob="PZA",e.regaladas=parseFloat(l[t].regaladas),e.emp_reg=l[t].emp_reg,e.cod_reg=l[t].art_reg,e.desc_reg=l[t].desc_reg,e.fac_min_reg=parseFloat(l[t].fac_min_reg),c.value.push(e);console.log("cuando se cargan los datos de la tabla ",c.value)}if(u.value.prom.tpoProm==2||u.value.prom.tpoProm==3){o.fac_min_compra="PZA",o.fac_min_regalo="PZA";for(let t=0;t<l.length;t++)e={},e.cve=l[t].cve_art,e.precio1=l[t].precio_0,e.precio2=l[t].precio_1,e.precio3=l[t].precio_2,e.precio4=l[t].precio_3,e.precio5=l[t].precio_4,e.des1=l[t].des_art,e.cobradas=parseFloat(l[t].cantidad),e.emp_cob="PZA",e.regaladas=parseFloat(l[t].precio_0),e.emp_reg=l[t].emp_reg,e.cod_reg=l[t].art_reg,e.desc_reg=parseFloat(l[t].precio_4),e.fac_min_reg=parseFloat(l[t].fac_min_reg),c.value.push(e);console.log(c.value)}}const Z=b(!1),xe=function(l){var e=[".","-","+","e","ArrowDown","ArrowUp"];e.includes(l.key)&&l.preventDefault()};function co(){let l=document.getElementById("cod_cob");l.setAttribute("disabled",!0),l.classList.add("disabled:opacity-75"),document.getElementById("btn_add").classList.add("hidden")}function Se(){for(let l=1;l<6;l++){let e=document.getElementById("precio"+l);e.textContent="";let t=document.getElementById("pre_prom"+l);t.classList.remove("ring","ring-red-500"),t.value="";let a=document.getElementById("emp"+l);a.textContent="";let n=document.getElementById("porcen_prom"+l);n.classList.remove("ring","ring-red-500"),n.value="",document.getElementById("dif"+l).textContent=""}}function uo(l){c.value[l].precio1=document.getElementById("pre_prom1").value,c.value[l].precio2=document.getElementById("pre_prom2").value,c.value[l].precio3=document.getElementById("pre_prom3").value,c.value[l].precio4=document.getElementById("pre_prom4").value,c.value[l].precio5=document.getElementById("pre_prom5").value}function Me(l){window.open(q+"formato?idprom="+l,"_blank")}const io=function(l){Ve(l);let e=document.getElementById("regaladas");(o.tipo==2||o.tipo==3)&&(e.focus(),e.select()),(o.tipo==5||o.tipo==6)&&(e.focus(),e.select())},mo=function(l){Ve(l)},po=function(l){document.getElementById("emp_reg").focus()},go=function(l){document.getElementById("cod_cob").focus()};return(l,e)=>(p(),B(bo,null,{default:d(()=>[r(W,{hasFooter:!1,modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=t=>U.value=t),blocked:!0,title:"Cargando la informaci\xF3n"},{default:d(()=>[Do]),_:1},8,["modelValue"]),r(W,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=t=>V.value=t),title:"No se pudo guardar la promoci\xF3n",button:"secondary",hasButton:""},{default:d(()=>[h("p",null,J(I.value),1)]),_:1},8,["modelValue"]),r(W,{hasFooter:!1,modelValue:Z.value,"onUpdate:modelValue":e[2]||(e[2]=t=>Z.value=t),title:"Promoci\xF3n creada correctamente",blocked:!0},{default:d(()=>[No]),_:1},8,["modelValue"]),r(W,{modelValue:j.value,"onUpdate:modelValue":e[3]||(e[3]=t=>j.value=t),title:"Error al capturar el art\xEDculo",hasFooter:!1,titleClass:"mx-auto mb-3",blocked:!0},{default:d(()=>[To,h("p",null,J(I.value),1)]),_:1},8,["modelValue"]),r(W,{hasFooter:!1,modelValue:l.artAgregado,"onUpdate:modelValue":e[4]||(e[4]=t=>l.artAgregado=t),title:"Art\xEDculo agregado",blocked:!0},{default:d(()=>[qo]),_:1},8,["modelValue"]),r(Te,{id:"sect"},{default:d(()=>[r(wo,{icon:x(Bo),title:"Capturar nueva Promoci\xF3n/Combo",main:""},null,8,["icon"]),r(Ue,{form:"",onSubmit:we(Be,["prevent"])},{default:d(()=>[r(ee,{label:"Descripci\xF3n y Tipo",id:"acc_desc"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Nombre de la promoci\xF3n*"},{default:d(()=>[r(i,{type:"text",modelValue:o.nombre,"onUpdate:modelValue":e[5]||(e[5]=t=>o.nombre=t),attrr:"requerido",name:"nombre",id:"nom",required:"",placeholder:"Nombre de la promoci\xF3n*",otherClasses:"uppercase"},null,8,["modelValue"])]),_:1}),r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Tipo de promoci\xF3n*"},{default:d(()=>[(p(),B(i,{modelValue:o.tipo,"onUpdate:modelValue":e[6]||(e[6]=t=>o.tipo=t),options:be,key:l.prueba,attrr:"requerido",required:"",onChange:he,name:"tipo",title:"Tipo De Promoci\xF3n*",otherClasses:"campo",id:"tipo"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),r(s,null,{default:d(()=>[r(s,{label:"Tipo de indicador*"},{default:d(()=>[r(i,{modelValue:o.indicador,"onUpdate:modelValue":e[7]||(e[7]=t=>o.indicador=t),options:ye,attrr:"requerido",required:"",name:"indicador",title:"Tipo De Indicador*",otherClasses:"campo"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o.tipo==1||o.tipo==5||o.tipo==6||o.tipo==3?(p(),B(ee,{key:0,label:"Proveedor y Acuerdo",id:"acc_prov"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Num Proveedor:*"},{default:d(()=>[r(i,{type:"text",id:"prov",modelValue:o.proveedor,"onUpdate:modelValue":e[8]||(e[8]=t=>o.proveedor=t),attrr:"requerido",name:"proveedor",otherClasses:"campo",placeholder:"N\xFAmero de Proveedor*",required:"",errorMsg:ue.value,onChange:no,multiple:"",list:"prov_list"},null,8,["modelValue","errorMsg"])]),_:1}),r(s,null,{default:d(()=>[r(s,{label:"Paga:*"},{default:d(()=>[r(i,{options:Ee,modelValue:o.paga,"onUpdate:modelValue":e[9]||(e[9]=t=>o.paga=t),required:"",attrr:"requerido",name:"paga",otherClasses:"campo"},null,8,["modelValue"])]),_:1}),r(s,{label:"Folio Acuerdo:*"},{default:d(()=>[r(i,{type:"text",id:"acuerdo",multiple:"",list:"ac_list",required:"",attrr:"requerido",name:"folioAcuerdo",otherClasses:"campo",onChange:Qe,modelValue:o.folioAcuerdo,"onUpdate:modelValue":e[10]||(e[10]=t=>o.folioAcuerdo=t),errorMsg:ie.value,placeholder:"Folio de Acuerdo"},null,8,["modelValue","errorMsg"])]),_:1}),r(s,{label:"Bolet\xEDn:"},{default:d(()=>[r(i,{type:"text",modelValue:o.boletin,"onUpdate:modelValue":e[11]||(e[11]=t=>o.boletin=t),disabled:"",placeholder:"Bolet\xEDn",id:"boletin"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h("datalist",$o,[(p(!0),z(Ne,null,De(x(Le),t=>(p(),z("option",{key:t.proveedor,value:t.proveedor+" - "+t.nom},J(t.proveedor),9,Oo))),128))]),h("datalist",Ro,[(p(!0),z(Ne,null,De(x(te),t=>(p(),z("option",{key:t.folio,value:t.Folio},J(t.Folio),9,Lo))),128))])]),_:1})):y("",!0),r(ee,{label:"Restricciones",id:"acc_restric"},{default:d(()=>[r(s,{otherClasses:""},{default:d(()=>[r(s,{label:"Limitado a:"},{default:d(()=>[r(i,{type:"text",modelValue:o.limPzs,"onUpdate:modelValue":e[12]||(e[12]=t=>o.limPzs=t),name:"limPzs",otherClasses:"campo",placeholder:"Piezas"},null,8,["modelValue"])]),_:1}),r(s,{label:"Unidades por venta:"},{default:d(()=>[r(i,{type:"text",modelValue:o.udsVenta,"onUpdate:modelValue":e[13]||(e[13]=t=>o.udsVenta=t),name:"udsVenta",otherClasses:"campo",placeholder:"PZAS"},null,8,["modelValue"])]),_:1}),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:0,label:"Cantidad m\xEDnima:"},{default:d(()=>[r(i,{type:"text",modelValue:o.cantMin,"onUpdate:modelValue":e[14]||(e[14]=t=>o.cantMin=t),name:"cantMin",otherClasses:"campo",placeholder:"PZS"},null,8,["modelValue"])]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:1,label:"Monto compra m\xEDnima:"},{default:d(()=>[r(i,{type:"text",modelValue:o.montoMin,"onUpdate:modelValue":e[15]||(e[15]=t=>o.montoMin=t),name:"montoMin",otherClasses:"campo",placeholder:"$0.00"},null,8,["modelValue"])]),_:1})):y("",!0)]),_:1})]),_:1}),r(s,{otherClasses:"mt-3 mb-6 mx-3",label:"Vigencia*"},{default:d(()=>[r(Co,{idDate:"idvig"}),r(Uo,{class:"ml-3",attrr:"requerido",otherClasses:"campo",modelValue:o.aplicaSim,"onUpdate:modelValue":e[16]||(e[16]=t=>o.aplicaSim=t),name:"similares",type:"switch",options:{one:"Aplica similares"}},null,8,["modelValue"])]),_:1}),r(ee,{label:"Cliente y Pago",id:"acc_cli"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Cliente:"},{default:d(()=>[r(i,{type:"text",modelValue:o.cliente,"onUpdate:modelValue":e[17]||(e[17]=t=>o.cliente=t),onChange:oo,placeholder:"N\xFAmero de Cliente",id:"cliente",errorMsg:me.value},null,8,["modelValue","errorMsg"])]),_:1}),r(s,{label:"Condici\xF3n de Pago:"},{default:d(()=>[r(i,{options:Re,modelValue:o.condPago,"onUpdate:modelValue":e[18]||(e[18]=t=>o.condPago=t)},null,8,["modelValue"])]),_:1})]),_:1}),r(s,{label:"Segmentos de Mercado:",otherClasses:"mt-3"},{default:d(()=>[r(i,{modelValue:o.seg1,"onUpdate:modelValue":e[19]||(e[19]=t=>o.seg1=t),options:T,name:"seg1",id:"seg1",onChange:e[20]||(e[20]=t=>G("seg1")),title:"Segmento 1 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:o.seg2,"onUpdate:modelValue":e[21]||(e[21]=t=>o.seg2=t),options:T,name:"seg2",id:"seg2",onChange:e[22]||(e[22]=t=>G("seg2")),title:"Segmento 2 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:o.seg3,"onUpdate:modelValue":e[23]||(e[23]=t=>o.seg3=t),options:T,name:"seg3",id:"seg3",onChange:e[24]||(e[24]=t=>G("seg3")),title:"Segmento 3 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:o.seg4,"onUpdate:modelValue":e[25]||(e[25]=t=>o.seg4=t),options:T,name:"seg4",id:"seg4",onChange:e[26]||(e[26]=t=>G("seg4")),title:"Segmento 4 mercado",otherClasses:"campo"},null,8,["modelValue"])]),_:1})]),_:1}),r(ee,{label:"Aplica para:*",id:"acc_suc"},{default:d(()=>[r(s,null,{default:d(()=>[r(Vo,{sucBase:o.precBase},null,8,["sucBase"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),r(Te,{class:"pt-0"},{default:d(()=>[r(Ue,{CardBox:"",form:"",onSubmit:we(Be,["prevent"])},{footer:d(()=>[]),default:d(()=>[r(s,{label:"Art\xEDculos"},{default:d(()=>[r(s,{label:"Precios seg\xFAn:"},{default:d(()=>[r(i,{options:fe,modelValue:o.precBase,"onUpdate:modelValue":e[27]||(e[27]=t=>o.precBase=t),id:"sucbase",name:"forzado",title:"Precios seg\xFAn: ",placeholder:"Precios seg\xFAn:"},null,8,["modelValue"])]),_:1}),h("div",null,[Fo,h("span",null,[h("b",null,J(x(c).length),1)])])]),_:1}),r(qe),o.tipo==1||o.tipo==6?(p(),B(Ao,{key:0,arts:x(c)},null,8,["arts"])):y("",!0),o.tipo==5||o.tipo==6||o.tipo==3||o.tipo==4||o.tipo==2?(p(),z("div",zo,[r(s,null,{default:d(()=>[r(s,{label:"Comprando:*"},{default:d(()=>[r(i,{modelValue:o.cobradas,"onUpdate:modelValue":e[28]||(e[28]=t=>o.cobradas=t),type:"number",onKeydown:xe,name:"cobradas",otherClasses:"campo",id:"cobradas",onKeyup:ne(go,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),o.tipo==5||o.tipo==6?(p(),z("div",Ko,[r(s,{label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:o.fac_min_compra,"onUpdate:modelValue":e[29]||(e[29]=t=>o.fac_min_compra=t),id:"emp_cob",name:"emp_cob",otherClasses:"campo"},null,8,["modelValue"])]),_:1})])):y("",!0),o.tipo==2||o.tipo==3||o.tipo==4?(p(),z("div",jo,[r(s,{label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:o.fac_min_compra,"onUpdate:modelValue":e[30]||(e[30]=t=>o.fac_min_compra=t),id:"emp_cob",name:"emp_cob",otherClasses:"campo",disabled:""},null,8,["modelValue"])]),_:1})])):y("",!0),r(s,{label:"Del C\xF3digo:*"},{default:d(()=>[r(i,{type:"text",id:"cod_cob",modelValue:o.cve,"onUpdate:modelValue":e[31]||(e[31]=t=>o.cve=t),name:"cod_cob",otherClasses:"campo",errorMsg:R.value,onKeyup:ne(io,["enter"])},null,8,["modelValue","errorMsg","onKeyup"])]),_:1}),r(s,{label:"Descripci\xF3n"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_cob"})]),_:1})]),_:1}),r(s,{class:"mt-4"},{default:d(()=>[o.tipo==3||o.tipo==4||o.tipo==2?(p(),B(s,{key:0,label:"Precio Art:"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_reg"})]),_:1})):y("",!0),o.tipo==3?(p(),B(s,{key:1,label:"Precio del Combo: $*"},{default:d(()=>[r(i,{modelValue:o.regaladas,"onUpdate:modelValue":e[32]||(e[32]=t=>o.regaladas=t),type:"number",id:"regaladas",name:"regaladas",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),o.tipo==4||o.tipo==2?(p(),B(s,{key:2,label:"Precio del Articulo: $*"},{default:d(()=>[r(i,{modelValue:o.regaladas,"onUpdate:modelValue":e[33]||(e[33]=t=>o.regaladas=t),type:"number",id:"regaladas",name:"regaladas",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:3,label:"Se regalan:*"},{default:d(()=>[r(i,{modelValue:o.regaladas,"onUpdate:modelValue":e[34]||(e[34]=t=>o.regaladas=t),type:"number",onKeydown:xe,id:"regaladas",onKeyup:ne(po,["enter"]),name:"regaladas",otherClasses:"campo"},null,8,["modelValue","onKeyup"])]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:4,label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:o.fac_min_regalo,"onUpdate:modelValue":e[35]||(e[35]=t=>o.fac_min_regalo=t),id:"emp_reg",name:"emp_reg",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:5,label:"Del C\xF3digo:*"},{default:d(()=>[r(i,{type:"text",id:"art_reg",modelValue:o.cod_reg,"onUpdate:modelValue":e[36]||(e[36]=t=>o.cod_reg=t),onKeyup:ne(mo,["enter"]),name:"art_reg",otherClasses:"campo",errorMsg:H.value},null,8,["modelValue","onKeyup","errorMsg"])]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:6,label:"De Regalo"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_reg"})]),_:1})):y("",!0),o.tipo==1||o.tipo==5||o.tipo==6?(p(),B(s,{key:7,label:"Fac Min Reg",help:"ATENCI\xD3N: Se recomienda no modificar este valor"},{default:d(()=>[r(i,{type:"number",modelValue:o.fac_min_regalo1,"onUpdate:modelValue":e[37]||(e[37]=t=>o.fac_min_regalo1=t),placeholder:"1",id:"fac_min_reg"},null,8,["modelValue"])]),_:1})):y("",!0),h("div",Ho,[r(yo,{type:"justify-start lg:justify-end","no-wrap":""},{default:d(()=>[r(se,{id:"add-reg",color:"success",class:"f-left",label:"Agregar art\xEDculo",onClick:ze}),r(se,{color:"success",class:"f-left hidden",label:"Actualizar art\xEDculo",id:"btn-upd-reg",onClick:je}),r(se,{color:"danger",class:"f-left hidden",label:"Cancelar",onClick:O,id:"btn-cancel-reg"})]),_:1})])]),_:1})])):y("",!0),r(qe),h("div",null,[Zo,h("span",null,[h("b",null,J(x(c).length),1)])]),o.tipo==1?(p(),B(ko,{key:2,arts:x(c)},null,8,["arts"])):y("",!0),o.tipo==5||o.tipo==6?(p(),B(Po,{key:3,campos:x(ce),arts:x(c)},null,8,["campos","arts"])):y("",!0),o.tipo==3?(p(),B(xo,{key:4,campos:x(ce),arts:x(c)},null,8,["campos","arts"])):y("",!0),o.tipo==4||o.tipo==2?(p(),B(So,{key:5,campos:x(ce),arts:x(c)},null,8,["campos","arts"])):y("",!0)]),_:1},8,["onSubmit"]),r(se,{label:"Guardar nuevos datos",id:"btn_save",type:"submit",class:"mt-4 w-full",icon:x(Io),color:"success",onClick:e[38]||(e[38]=t=>to())},null,8,["icon"])]),_:1})]),_:1}))}};export{at as default};

import{v as o,o as r,f as v,n as f,m as l,E as R,d as q,b as h,e as E,G as D,c as u,D as p,H as S,I as L,J as b,F as K,K as U,C as M,L as H,M as I}from"./index.1e4dfd22.js";const V={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null},side:{type:String,default:null}},setup(e){const d=e,t=o(()=>["absolute top-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400",d.side?"right-0":"left-0"]);return(a,k)=>(r(),v(R,{path:e.icon,w:"w-10",h:e.h,class:f(l(t))},null,8,["path","h","class"]))}},z=["id","name","title","atr","disabled"],A=["value"],N=["id","name","placeholder","required","disabled"],T=["id","name","inputmode","autocomplete","required","placeholder","type","disabled","title","multiple","list","atr"],$={key:5,class:"text-xs text-red-500 dark:text-red-500 mt-1"},G={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:Array,default:null},type:{type:String,default:"text"},title:{type:String,default:null},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},otherClasses:{type:String,default:null},parentClasses:{type:String,default:null},errorMsg:{type:String,default:null},refs:{type:String,default:""},iconSide:{type:String,default:null},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean,disabled:Boolean,multiple:Boolean,list:{type:String,default:null},keyList:String,attrr:{type:String,default:null}},emits:["update:modelValue","setRef"],setup(e,{emit:d}){const t=e,a=o({get:()=>t.modelValue,set:s=>{d("update:modelValue",s)}}),k=o(()=>["relative",t.parentClasses?t.parentClasses:""]),y=o(()=>{const s=["px-3 py-2 max-w-full focus:ring focus:outline-none border-gray-700 rounded w-full","dark:placeholder-gray-400",m.value==="textarea"?"h-24":"h-12",t.borderless?"border-0":"border",t.transparent?"bg-transparent":"bg-white dark:bg-slate-800",t.otherClasses?t.otherClasses:""];return t.icon&&(t.iconSide==="right"?s.push("pr-10 pl-5"):s.push("pl-10 pr-5")),s}),m=o(()=>t.options?"select":t.type),x=o(()=>t.type==="textarea"?"h-full":"h-12"),g=q(),C=h(null),F=h(null),c=h(null);if(E(()=>{C.value?d("setRef",C.value):F.value?d("setRef",F.value):d("setRef",c.value),t.refs==="input-focus"&&c.value.focus()}),t.ctrlKFocus){const s=n=>{n.ctrlKey&&n.key==="k"?(n.preventDefault(),c.value.focus()):n.key==="Escape"&&c.value.blur()};E(()=>{g.isFieldFocusRegistered||(window.addEventListener("keydown",s),g.isFieldFocusRegistered=!0)}),D(()=>{window.removeEventListener("keydown",s),g.isFieldFocusRegistered=!1})}return(s,n)=>(r(),u("div",{class:f(l(k))},[e.icon&&e.iconSide==="right"?(r(),v(V,{key:0,icon:e.icon,side:e.iconSide,h:l(x)},null,8,["icon","side","h"])):p("",!0),l(m)==="select"?S((r(),u("select",{key:1,id:e.id,"onUpdate:modelValue":n[0]||(n[0]=i=>b(a)?a.value=i:null),name:e.name,class:f(l(y)),title:e.title,atr:t.attrr,disabled:e.disabled},[(r(!0),u(K,null,U(e.options,i=>{var w,B;return r(),u("option",{key:i,value:(w=i.id)!=null?w:i},M((B=i.label)!=null?B:i),9,A)}),128))],10,z)),[[L,l(a)]]):l(m)==="textarea"?S((r(),u("textarea",{key:2,id:e.id,"onUpdate:modelValue":n[1]||(n[1]=i=>b(a)?a.value=i:null),class:f(l(y)),name:e.name,placeholder:e.placeholder,required:e.required,disabled:e.disabled},null,10,N)),[[H,l(a)]]):S((r(),u("input",{key:3,id:e.id,ref_key:"inputEl",ref:c,"onUpdate:modelValue":n[2]||(n[2]=i=>b(a)?a.value=i:null),name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:l(m),class:f(l(y)),disabled:e.disabled,title:e.title,multiple:e.multiple,list:e.list,atr:t.attrr},null,10,T)),[[I,l(a)]]),e.icon&&e.iconSide!=="right"?(r(),v(V,{key:4,icon:e.icon,side:e.iconSide,h:l(x)},null,8,["icon","side","h"])):p("",!0),e.errorMsg?(r(),u("div",$,M(e.errorMsg),1)):p("",!0)],2))}};export{G as _};

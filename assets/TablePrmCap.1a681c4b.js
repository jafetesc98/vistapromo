import{p as V,d as I,b as u,v as p,o as s,c as l,F as f,K as y,C as n,D as d,a as e,Q as L,g as _,w as h,f as k,m as o,R as M,l as m,k as g,S as F,T as R,t as z}from"./index.5b1566d7.js";const H={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},K={class:"px-3"},O={key:0},Q=e("th",{class:"text-center"},"ID PRM",-1),U=e("th",null,"Proveedor",-1),q=e("th",null,"Descripcion",-1),G=e("th",{class:"text-center"},"Fec Ini",-1),J=e("th",{class:"text-center"},"Fec Fin",-1),W=e("th",{class:"text-center"},"Tipo",-1),X=e("th",{class:"text-center"},"Estado",-1),Y=e("th",null,null,-1),Z=["data-label"],tt=["data-label"],et=e("br",null,null,-1),at={class:"text-sm"},st=["data-label"],lt=["data-label"],nt=["data-label"],rt=["data-label"],ct=["data-label"],ot={key:0,class:"before:hidden lg:w-1 whitespace-nowrap"},it={key:1,class:"before:hidden lg:w-1 whitespace-nowrap"},dt={key:2,class:"before:hidden lg:w-1 whitespace-nowrap"},ut={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},ht={__name:"TablePrmCap",props:{checkable:Boolean,promos:[Array,Object],vista:{type:String,default:""}},setup(C){const b=C,$=a=>{switch(a){case"0":return"En revisi\xF3n";case"1":return"Autorizada";case"2":return"Descartada";case"-2":return"Eliminada";case"-1":default:return"Por revisar"}},B=a=>{switch(a=parseInt(a),a){case 1:return"Precio Promoci\xF3n";case 5:return"mercanc\xEDa sin cargo";case 6:return"Precio + mercanc\xEDa sin cargo";default:return"no identificada"}},P=V(),w=I();u(!1),u(!1);const v=u(10),i=u(0),x=u([]),T=p(()=>b.promos.slice(v.value*i.value,v.value*(i.value+1))),j=p(()=>Math.ceil(b.promos.length/v.value)),A=p(()=>i.value+1),N=p(()=>{const a=[];for(let r=0;r<j.value;r++)a.push(r);return a});function c(a){let r=a.target.closest("td");w.numProm=r.getAttribute("data-label"),P.push({path:"/vistapromo/detalle-prom"})}function S(a){let r=a.target.closest("button");w.numProm=r.getAttribute("data-label"),P.push({path:"/vistapromo/editar-prom"})}function D(a){window.open(z+"formato?idprom="+a,"_blank")}return(a,r)=>(s(),l(f,null,[x.value.length?(s(),l("div",H,[(s(!0),l(f,null,y(x.value,t=>(s(),l("span",{key:t.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},n(t.name),1))),128))])):d("",!0),e("table",K,[e("thead",null,[e("tr",null,[C.checkable?(s(),l("th",O)):d("",!0),Q,U,q,G,J,W,X,Y])]),e("tbody",null,[(s(!0),l(f,null,y(o(T),t=>(s(),l("tr",{key:t.id},[e("td",{"data-label":t.id,to:"/vistapromo/capturar",onClick:c,class:"cursor-pointer text-center"},n(t.id),9,Z),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},[L(n(t.proveedor)+" ",1),et,e("span",at,n(t.nom_prov.trim()),1)],8,tt),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},n(t.desProm),9,st),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},n(t.fec_ini),9,lt),e("td",{"data-label":t.id,onClick:c,class:"cursor-pointer"},n(t.fec_fin),9,nt),e("td",{"data-label":t.id,class:"uppercase cursor-pointer text-center",onClick:c},n(B(t.tpoProm)),9,rt),e("td",{"data-label":t.id,class:"uppercase cursor-pointer text-center",onClick:c},n($(t.status)),9,ct),b.vista=="porComprador"?(s(),l("td",ot,[_(g,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="-1"?(s(),k(m,{key:0,color:"info",icon:o(M),small:"","data-label":t.id,onClick:S},null,8,["icon","data-label"])):d("",!0)]),_:2},1024)])):d("",!0),b.vista=="porComprador"?(s(),l("td",it,[_(g,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="-1"?(s(),k(m,{key:0,color:"info",icon:o(F),small:"","data-label":t.id,onClick:E=>D(t.id)},null,8,["icon","data-label","onClick"])):d("",!0)]),_:2},1024)])):(s(),l("td",dt,[_(g,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="1"?(s(),k(m,{key:0,color:"info",icon:o(F),small:"","data-label":t.id,onClick:E=>D(t.id)},null,8,["icon","data-label","onClick"])):d("",!0)]),_:2},1024)]))]))),128))])]),e("div",ut,[_(R,null,{default:h(()=>[_(g,null,{default:h(()=>[(s(!0),l(f,null,y(o(N),t=>(s(),k(m,{key:t,active:t===i.value,label:t+1,color:t===i.value?"lightDark":"whiteDark",small:"",onClick:E=>i.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"P\xE1gina "+n(o(A))+" de "+n(o(j)),1)]),_:1})])],64))}};export{ht as _};

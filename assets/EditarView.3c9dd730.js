import{v as de,b,r as _e,d as _t,e as vt,t as q,f as B,w as d,N as ft,o as p,g as r,h as W,a as h,C as J,m as x,i as Ue,j as we,c as z,K as De,F as Ne,D as y,O as Te,X as qe,ah as ne,k as bt,l as se,p as yt,Y as Et,ai as Bt}from"./index.6fed4058.js";import{_ as It}from"./loading.16b03cf4.js";import{_ as $e}from"./checked.4cad9791.js";import{_ as ee,R as ht,a as Ct,b as Vt,c as At,d as kt,e as Pt,f as xt,g as St}from"./Accordion.55798efd.js";import{_ as Mt}from"./FormCheckRadioGroup.75aeab8a.js";import{_ as s}from"./FormField.fae5d26e.js";import{_ as i}from"./FormControl.45c083bc.js";import{_ as Ut}from"./SectionTitleLine.4a2bf529.js";import"./FormCheckRadio.631c9a23.js";const wt=h("img",{src:It,alt:"",class:"block mx-auto"},null,-1),Dt=h("img",{src:$e,alt:"",class:"block mx-auto"},null,-1),Nt=h("img",{src:St,alt:"",class:"block mx-auto"},null,-1),Tt=h("img",{src:$e,alt:"",class:"block mx-auto"},null,-1),qt={id:"prov_list"},$t=["value"],Ot={id:"ac_list"},Rt=["value"],Lt=h("label",null,"Art\xEDculos Capturados: ",-1),Ft={key:1,class:"mt-6"},zt={key:0},Kt={key:1},jt={class:"mx-auto mt-8"},Ht=h("label",null,"Art\xEDculos Capturados: ",-1),lo={__name:"EditarView",setup(Zt){const ve=yt(),X=[{id:"PZA",label:"PIEZA"},{id:"PAQ",label:"PAQUETE"},{id:"CJA",label:"CAJA"}],Oe=["ene","feb","mar","abr","may","jun","jul","ago","sep","ago","oct","nov","dic"],fe=[{id:"001",label:"001"},{id:"002",label:"002"},{id:"003",label:"003"},{id:"012",label:"012"},{id:"013",label:"013"},{id:"015",label:"015"},{id:"024",label:"024"},{id:"-1",label:"Sucursal seleccionada"}],be=[{id:1,label:"Promoci\xF3n De Precio",default:!0},{id:5,label:"Mercanc\xEDa sin Cargo"},{id:6,label:"Precio + Mercanc\xEDa sin Cargo"},{id:3,label:"Precio Especifico por Articulo"},{id:2,label:"Combo"}],ye=[{id:0,label:"Baja de precio",default:!0},{id:1,label:"Promoci\xF3n"}],Re=[{id:"CRED",label:"CR\xC9DITO"},{id:"CTDO",label:"CONTADO"},{id:"XCOB",label:"POR COBRAR"}],Ee=[{id:1,label:"Paga Proveedor"},{id:2,label:"Paga MiniAbastos"},{id:3,label:"Pagan Ambos"}],T=[{id:"",label:"SELECCIONE UNO"},{id:"BAS",label:"TARJETA BASICA"},{id:"CON",label:"CONSUMO TIENDA"},{id:"ESP",label:"CLIENTE ESPECIAL"},{id:"EXP",label:"CLIENTE CREDITO EXPO"},{id:"INA",label:"INAPAM"},{id:"MAY",label:"PRUEBA SEG MAY"},{id:"MIN",label:"MINORISTAS"},{id:"MUJ",label:"MUJER"},{id:"PRF",label:"TARJETA PREFERENCIAL"},{id:"PRM",label:"TARJETA PREMIUM"},{id:"PUB",label:"PUBLICO"},{id:"RUT",label:"VENTA EN RUTA"}],ce=de(()=>t),ue=b(""),ie=b(""),me=b(""),te=b([]),u=de(()=>te.value);b([]);const t=_e({nombre:"",tipo:be[0].id,indicador:ye[0].id,proveedor:"",paga:Ee[0].id,folioAcuerdo:"",limPzs:"",udsVenta:"",cantMin:"",montoMin:"",vigencia:"",fec_ini:"",fec_fin:"",aplicaSim:"",cliente:"",condPago:"",seg1:T[0].id,seg2:T[0].id,seg3:T[0].id,seg4:T[0].id,sucSelected:[],aplicaA:"",mostrador:null,retail:null,u_alta:"",precBase:fe[1].id,arts:te,cve:""});_e({});const w=_t(),Le=de(()=>$.value),$=b({}),oe=de(()=>K.value),K=b({}),V=b(!1),I=b(""),j=b(!1),Be=()=>{};b(!0),b(0),vt(async()=>{t.tipo=1,I.value="",await Fe(),await Xe(),await Ie(),document.getElementById("acc_desc").click(),document.getElementById("acc_prov").click(),document.getElementById("acc_suc").click(),await G(),M.value=!1,await rt(c.value.suc),await he();let l=document.getElementsByName("zona");for(let o=0;o<l.length;o++)l[o].addEventListener("change",Ze,!0);let e=document.querySelectorAll("[zona]");for(let o=0;o<e.length;o++)e[o].addEventListener("change",Je,!0);await Ge(),t.tipo==2&&(console.log("entra condicion para buscar"),document.getElementById("cod_cob"),le(u.value)),(t.tipo==5||t.tipo==6)&&(document.getElementById("cod_cob"),document.getElementById("art_reg"))});async function Fe(){var l=document.getElementById("seg1"),e=document.getElementById("seg2"),o=document.getElementById("seg3"),a=document.getElementById("seg4");l[0].disabled=!0,e[0].disabled=!0,o[0].disabled=!0,a[0].disabled=!0;let n=w.numComprador;return await fetch(q+"prov?compr="+n+"&usr="+w.nomCto).then(async function(g){if(g.ok)await g.json().then(v=>($.value=v,Y));else return console.log("Respuesta de red OK pero respuesta HTTP no OK"),{}}).catch(function(g){return console.log("Hubo un problema con la petici\xF3n Fetch:"+g.message),{}})}async function Ie(){let l=w.numComprador,e=t.proveedor.trim().split(" ");return e=e[0],await fetch(q+"acuerdos?compr="+l+"&prov="+e+"&usr="+w.nomCto).then(async function(o){if(o.ok)await o.json().then(a=>(K.value=a,Y));else return console.log("Respuesta de red OK pero respuesta HTTP no OK"),{}}).catch(function(o){return console.log("Hubo un problema con la petici\xF3n Fetch:"+o.message),{}})}async function ze(l){if(console.log("inicia el metodo"),t.tipo==5||t.tipo==6){if(l.target.setAttribute("disabled",!0),M.value=!0,R.value!=""||H.value!="")return console.log("tiene errores en campos de regalo"),S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(t.cve))return console.log("Esta duplicada"),S("El art\xEDculo ya est\xE1 capturado",l);if(t.tipo==6){let o=document.getElementById("cod_cob");if(console.log(o.value,"codigo cobrado"),o.value==null)return console.log("el tipo de proo6 detono la promo"),S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);t.cve=o.value.trim(),t.des1=document.getElementById("desc_art_cob").value}let e={};if(e.cve=t.cve,e.cod_reg=t.cod_reg,e.cobradas=t.cobradas,e.regaladas=t.regaladas,e.emp_cob=t.fac_min_compra,e.emp_reg=t.fac_min_regalo,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=document.getElementById("fac_min_reg").value,console.log("!!",e.cve),console.log("!!",e.cod_reg),console.log("!!",e.regaladas),console.log("!!",e.cobradas),console.log("!!",e.emp_cob),console.log("!!",e.emp_reg),console.log("!!",e.des1),console.log("!!",e.desc_reg),console.log("!!",e.fac_min_reg),e.cve==""||e.cve==null||e.cod_reg==""||e.cod_reg==null||e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.emp_reg==""||e.emp_reg==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null||e.fac_min_reg==""||e.fac_min_reg==null)return S("Debe capturar todos los campos requeridos",l);t.tipo==6&&(document.getElementById("desc_art").textContent="",document.getElementById("inputConsultar").value="",document.getElementById("cod_cob").value="",e=Ke(e)),u.value.push(e),M.value=!1,l.target.removeAttribute("disabled"),O(),t.tipo==6&&Se()}if(t.tipo==3){if(document.getElementById("cobradas").value<=1){V.value=!0,I.value="Debe de capturar una cantidad mayor a 1";return}if(document.getElementById("regaladas").value<=1){V.value=!0,I.value="Debe de capturar un precio mayor a $1";return}if(l.target.setAttribute("disabled",!0),M.value=!0,R.value!=""||H.value!="")return S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(t.cve))return S("El art\xEDculo ya est\xE1 capturado",l);let a={};if(a.cve=t.cve,a.cod_reg=t.cod_reg,a.cobradas=t.cobradas,a.regaladas=t.regaladas,a.emp_cob=t.fac_min_compra,a.emp_reg=t.fac_min_reg,a.des1=document.getElementById("desc_art_cob").value,a.desc_reg=document.getElementById("desc_art_reg").value,a.fac_min_reg=t.fac_min_regalo,a.regaladas==""||a.regaladas==null||a.cobradas==""||a.cobradas==null||a.emp_cob==""||a.emp_cob==null||a.des1==""||a.des1==null||a.desc_reg==""||a.desc_reg==null)return S("Debe capturar todos los campos requeridos",l);u.value.push(a),M.value=!1,l.target.removeAttribute("disabled"),O(),le(u.value)}if(t.tipo==2||t.tipo==4){if(document.getElementById("cobradas").value<1){V.value=!0,I.value="Debe de capturar una cantidad mayor a 0";return}if(document.getElementById("regaladas").value<=1){V.value=!0,I.value="Debe de capturar un precio mayor a $1";return}if(l.target.setAttribute("disabled",!0),M.value=!0,R.value!=""||H.value!="")return S("El c\xF3digo capturado no existe, o no corresponde al proveedor seleccionado",l);if(pe(t.cve))return S("El art\xEDculo ya est\xE1 capturado",l);let a={};if(a.cve=t.cve,a.cod_reg=t.cod_reg,a.cobradas=t.cobradas,a.regaladas=t.regaladas,a.emp_cob=t.fac_min_compra,a.emp_reg=t.fac_min_reg,a.des1=document.getElementById("desc_art_cob").value,a.desc_reg=document.getElementById("desc_art_reg").value,a.fac_min_reg=t.fac_min_regalo,a.regaladas==""||a.regaladas==null||a.cobradas==""||a.cobradas==null||a.emp_cob==""||a.emp_cob==null||a.des1==""||a.des1==null||a.desc_reg==""||a.desc_reg==null)return S("Debe capturar todos los campos requeridos",l);u.value.push(a),M.value=!1,l.target.removeAttribute("disabled"),O(),document.getElementById("cobradas").focus(),le(u.value)}}function le(l){console.log(l);let e=0;for(let a=0;a<l.length;a++)e+=l[a].cobradas*l[a].regaladas;let o=document.getElementById("totalCombo");console.log(e),o.innerText="$"+e.toFixed(2)}function Ke(l){let e=document.getElementById("pre_prom1").value,o=document.getElementById("pre_prom2").value,a=document.getElementById("pre_prom3").value,n=document.getElementById("pre_prom4").value,g=document.getElementById("pre_prom5").value;return l.precio1=e,l.precio2=o,l.precio3=a,l.precio4=n,l.precio5=g,l}function je(){if(t.tipo==5||t.tipo==6){let l={};if(l.cod_cob=t.cod_cob,l.cve=t.cve,l.cod_reg=t.cod_reg,l.cobradas=t.cobradas,l.regaladas=t.regaladas,l.emp_cob=t.fac_min_compra,l.emp_reg=t.fac_min_regalo,l.desc_cob=document.getElementById("desc_art_cob").value,l.des1=document.getElementById("desc_art_cob").value,l.desc_reg=document.getElementById("desc_art_reg").value,l.fac_min_reg=t.fac_min_reg,console.log(l.desc_reg,l.desc_cob,"descripciones"),l.cve==""||l.cve==null||l.cod_reg==""||l.cod_reg==null||l.regaladas==""||l.regaladas==null||l.cobradas==""||l.cobradas==null||l.emp_cob==""||l.emp_cob==null||l.emp_reg==""||l.emp_reg==null||l.desc_cob==""||l.desc_cob==null||l.desc_reg==""||l.desc_reg==null||l.fac_min_reg==""||l.fac_min_reg==null)return S("Debe capturar todos los campos requeridos",event);let e=document.getElementById("cod_cob").getAttribute("data-label"),o=ge(e);u.value[o],u.value[o]=l,t.tipo==6&&ct(o),document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),O()}if(t.tipo==3){let l=document.getElementById("cobradas").value;if(console.log(l),l<=1){V.value=!0,I.value="Debe de capturar una cantidad mayo a 1";return}let e={};if(e.cod_cob=t.cod_cob,e.cve=t.cve,e.cod_reg=t.cod_reg,e.cobradas=t.cobradas,e.regaladas=t.regaladas,e.emp_cob=t.fac_min_compra,e.emp_reg=t.fac_min_reg,e.desc_cob=document.getElementById("desc_art_cob").value,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=t.fac_min_regalo,e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null)return S("Debe capturar todos los campos requeridos",event);let o=document.getElementById("cod_cob").getAttribute("data-label"),a=ge(o);u.value[a],u.value[a]=e,console.log(e),document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),O()}if(t.tipo==2){if(document.getElementById("cobradas").value<1){V.value=!0,I.value="Debe de capturar una cantidad mayo a 1";return}let e={};if(e.cod_cob=t.cod_cob,e.cve=t.cve,e.cod_reg=t.cod_reg,e.cobradas=t.cobradas,e.regaladas=t.regaladas,e.emp_cob=t.fac_min_compra,e.emp_reg=t.fac_min_reg,e.desc_cob=document.getElementById("desc_art_cob").value,e.des1=document.getElementById("desc_art_cob").value,e.desc_reg=document.getElementById("desc_art_reg").value,e.fac_min_reg=t.fac_min_regalo,e.regaladas==""||e.regaladas==null||e.cobradas==""||e.cobradas==null||e.emp_cob==""||e.emp_cob==null||e.des1==""||e.des1==null||e.desc_reg==""||e.desc_reg==null)return S("Debe capturar todos los campos requeridos",event);let o=document.getElementById("cod_cob").getAttribute("data-label"),a=ge(o);u.value[a],u.value[a]=e,console.log("se actualizo el articulo",e),document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),document.getElementById("cobradas").focus(),le(u.value),O(u.value)}}function pe(l){console.log(u.value,"artscapturados");for(let e=0;e<u.value.length;e++)if(u.value[e].cve==l)return!0;return!1}function ge(l){for(let e=0;e<u.value.length;e++)if(u.value[e].cve==l)return e;return-1}function O(){t.fac_min_reg=X[0].id,t.fac_min_compra=X[0].id,t.cobradas=1,t.regaladas=1,t.fac_min_regalo=1,t.cod_reg="",t.cve="",document.getElementById("desc_art_cob").value="",document.getElementById("desc_art_reg").value="",document.getElementById("btn-upd-reg").classList.add("hidden"),document.getElementById("btn-cancel-reg").classList.add("hidden"),document.getElementById("add-reg").classList.remove("hidden"),t.tipo==6&&(console.log("deberia ser de hibirda"),Se(),document.getElementById("desc_art").textContent="",document.getElementById("inputConsultar").value="")}async function S(l,e){M.value=!1,I.value=l,j.value=!0,e.target.removeAttribute("disabled"),await ae(1500),j.value=!1}async function He(l,e,o,a,n){M.value=!0,fetch(q+"art?art="+l+"&suc="+e+"&prov="+o+"&empaque="+a).then(function(g){M.value=!1,g.ok?g.json().then(v=>{Y=v,n.value=l,n.id=="cod_cob"&&t.tipo==3||t.tipo==2?(R.value="",document.getElementById("desc_art_cob").value=v.des1,document.getElementById("desc_art_reg").value=v.precio_vta0):n.id=="cod_cob"&&t.tipo==5||t.tipo==6?(R.value="",document.getElementById("desc_art_cob").value=v.des1):(H.value="",document.getElementById("desc_art_reg").value=v.des1)}):(g.json().then(async v=>{I.value=v.message,j.value=!0,await ae(1500),j.value=!1,n.id=="cod_cob"?(document.getElementById("cod_cob").focus(),R.value=v.message):H.value=v.message}),console.log("Respuesta de red OK pero respuesta HTTP no OK"))}).catch(function(g){console.log("Hubo un problema con la petici\xF3n Fetch:"+g.message),n.value=l})}const R=b(""),H=b("");function Ze(l){switch(l.target.value){case"COSTA":t.precBase="013";break;case"ISTMO":t.precBase="024";break;case"VALLES":t.precBase="001";break;case"TODAS":t.precBase="001";break}}function Je(l){document.getElementById("zona-valles");let e=document.getElementById("zona-costa"),o=document.getElementById("zona-istmo"),a=document.getElementById("zona-todas"),n=document.getElementById("zona-custom"),g=document.getElementById("suc_001"),v=document.getElementById("suc_013"),D=document.getElementById("suc_024");switch(document.getElementById("suc_003"),document.getElementById("suc_012"),document.getElementById("suc_015"),l.target.value){case"001":l.target.checked?t.precBase="001":v.checked?t.precBase="013":D.checked?t.precBase="024":t.precBase="003";break;case"013":l.target.checked?g.checked||(t.precBase="013"):e.checked?t.precBase="012":(n.checked||a.checked)&&(D.checked?t.precBase="024":t.precBase="003");break;case"024":l.target.checked?g.checked||(t.precBase="024"):o.checked&&(t.precBase="015");break;default:!l.target.checked&&!g.checked&&!v.checked&&!D.checked&&(a.checked||n.checked)&&(t.precBase="003");break}}async function he(){te.value=[],(t.tipo==5||t.tipo==6)&&(document.getElementById("cod_cob"),document.getElementById("art_reg")),t.tipo==6&&st(),(t.tipo==3||t.tipo==2)&&(console.log("entra condicion para buscar"),document.getElementById("cod_cob"));var l=document.getElementById("mostrador"),e=document.getElementById("txtmost"),o=document.getElementById("retail"),a=document.getElementById("cod_cob");t.tipo==2||t.tipo==3||t.tipo==4?(console.log("entra condicion para deshabilitar mostrador"),e.style.opacity="0.5",l.style.opacity="0.5",l.disabled=!0,l.checked=!1,o.checked=!0,a.disabled=!1,Ce()):(e.style.opacity="1",l.style.opacity="1",l.disabled=!1,l.checked=!0,o.checked=!1)}var c=_e({});async function Xe(){let l=w.numComprador,e=w.numProm;return await fetch(q+"promocion?idprom="+e+"&compr="+l).then(async function(o){if(o.ok)await o.json().then(a=>(c.value=a,Y));else return{}}).catch(function(o){return console.log("Hubo un problema con la petici\xF3n Fetch:"+o.message),{}})}function Ce(){let l=document.getElementById("suc_001"),e=document.getElementById("txt_001");l.style.opacity="0.5",e.style.opacity="0.5",l.disabled=!0,l.checked=!1;let o=document.getElementById("suc_002"),a=document.getElementById("txt_002");o.style.opacity="0.5",a.style.opacity="0.5",o.disabled=!0,o.checked=!1;let n=document.getElementById("suc_013"),g=document.getElementById("txt_013");n.style.opacity="0.5",g.style.opacity="0.5",n.disabled=!0,n.checked=!1;let v=document.getElementById("suc_024"),D=document.getElementById("txt_024");v.style.opacity="0.5",D.style.opacity="0.5",v.disabled=!0,v.checked=!1;let N=document.getElementById("suc_037"),_=document.getElementById("txt_037");N.style.opacity="0.5",_.style.opacity="0.5",N.disabled=!0,N.checked=!1;let f=document.getElementById("suc_051"),U=document.getElementById("txt_051");f.style.opacity="0.5",U.style.opacity="0.5",f.disabled=!0,f.checked=!1;let A=document.getElementById("suc_053"),m=document.getElementById("txt_053");A.style.opacity="0.5",m.style.opacity="0.5",A.disabled=!0,A.checked=!1;let E=document.getElementById("suc_057"),C=document.getElementById("txt_057");E.style.opacity="0.5",C.style.opacity="0.5",E.disabled=!0,E.checked=!1}function Ye(l){for(let e=0;e<$.value.length;e++)if($.value[e].proveedor.includes(l))return $.value[e]}async function Ge(){t.nombre=c.value.prom.desProm,t.tipo=c.value.prom.tpoProm,We.value=c.value.prom.tpoProm=="1",et.value=c.value.prom.tpoProm,t.indicador=c.value.prom.indicador;let l=Ye(c.value.prom.proveedor);c.value.prom.nom_prov==null?t.proveedor="COMBO":t.proveedor=l.proveedor+" - "+l.nom,t.paga=c.value.prom.paga,t.folioAcuerdo=c.value.prom.folio_ac,t.limPzs=c.value.prom.uds_limite,t.udsVenta=c.value.prom.uds_por_cte,t.cantMin=c.value.prom.cantidad_minima,t.montoMin=c.value.prom.compra_minima,t.fec_ini=re(c.value.prom.fec_ini),t.fec_fin=re(c.value.prom.fec_fin),t.vigencia=t.fec_ini+" ~ "+t.fec_fin,document.getElementById("idvig").value=t.vigencia,c.value.prom.inc_similares=="S"?document.getElementsByName("similares")[0].checked=!0:document.getElementsByName("similares")[0].checked=!1,t.cliente=c.value.prom.cte,t.condPago=c.value.prom.con_pag,t.seg1=c.value.prom.seg_0,t.seg2=c.value.prom.seg_1,t.seg3=c.value.prom.seg_2,t.seg4=c.value.prom.seg_3,t.boletin=c.value.prom.boletin;let e=document.getElementById("mostrador"),o=document.getElementById("retail");c.value.prom.mostrador=="1"?e.checked=!0:e.checked=!1,c.value.prom.retail=="1"?o.checked=!0:o.checked=!1,(t.tipo==2||t.tipo==3)&&Ce(),t.u_alta=c.value.prom.u_alta,t.precBase=c.value.prom.suc_prec_base,re(c.value.prom.fec_ini),re(c.value.prom.fec_fin),nt(c.value.arts)}async function Ve(l){l.target.id=="cod_cob"?(console.log("Fue el cobrado"),document.getElementById("desc_art_cob")):document.getElementById("desc_art_reg");let e=l.target.value;document.getElementById("sucbase").value,t.sucSelected=Pe(),t.precBase=="-1"&&(t.precBase=t.sucSelected[0],console.log("antes de consultar",t.precBase,t.sucSelected[0]));let o;t.tipo==2?o="N":o=document.getElementById("prov").value.slice(0,9);var a=document.getElementById("emp_cob"),n=a.options[document.getElementById("emp_cob").selectedIndex].value;console.log(n),n.length==0&&(n=""),await He(e,t.precBase,o,n,l.target)}var Y={};function Qe(l){for(let e=0;e<oe.value.length;e++)if(oe.value[e].Folio==l.target.value){document.getElementById("boletin").value="",document.getElementById("boletin").value=oe.value[e].boletin;return}}b(!1);const We=b(!0),et=b(),M=b(!0);function ae(l){return new Promise(e=>setTimeout(e,l))}async function tt(l){let e=document.getElementById("cliente").value;if(l.target.classList.remove("ring","ring-red-500"),me.value="",e!="")return console.log("entra el else"),await fetch(q+"cliente?nCliente="+e).then(async function(o){if(o.ok)await o.json().then(a=>{K.value=a,console.log(a);var n=a.cve+"-"+a.nom;return document.getElementById("cliente").value=n,Y});else return l.target.classList.add("ring","ring-red-500"),me.value="El cliente no existe",console.log("Respuesta "),{}}).catch(function(o){return console.log("Hubo un problema con la petici\xF3n Fetch:"+o.message),{}})}async function G(l){var e=document.getElementById("seg1"),o=document.getElementById("seg2"),a=document.getElementById("seg3"),n=document.getElementById("seg4"),g=document.getElementById("seg1").selectedIndex,v=document.getElementById("seg2").selectedIndex,D=document.getElementById("seg3").selectedIndex,N=document.getElementById("seg4").selectedIndex,_="",f="",U="",A="";if(g!=-1&&(_=e.options[document.getElementById("seg1").selectedIndex].value),v!=-1&&(f=o.options[document.getElementById("seg2").selectedIndex].value),D!=-1&&(U=a.options[document.getElementById("seg3").selectedIndex].value),N!=-1&&(A=n.options[document.getElementById("seg4").selectedIndex].value),l=="seg1"){for(var _=e.options[document.getElementById("seg1").selectedIndex].value,m=0;m<o.length;m++){var E=o[m],C=a[m],k=n[m];E.value==U||E.value==A?E.disabled=!0:E.disabled=!1,C.value==f||C.value==A?C.disabled=!0:C.disabled=!1,k.value==f||k.value==U?k.disabled=!0:k.disabled=!1}let L=o.querySelector(`option[value="${_}"]`);L.disabled=!0;let F=a.querySelector(`option[value="${_}"]`);F.disabled=!0;let gt=n.querySelector(`option[value="${_}"]`);gt.disabled=!0}if(l=="seg2"){for(var m=0;m<o.length;m++){var P=e[m],C=a[m],k=n[m];P.value==U||P.value==A?P.disabled=!0:P.disabled=!1,C.value==_||C.value==A?C.disabled=!0:C.disabled=!1,k.value==_||k.value==U?k.disabled=!0:k.disabled=!1}let Q=e.querySelector(`option[value="${f}"]`);Q.disabled=!0;let L=a.querySelector(`option[value="${f}"]`);L.disabled=!0;let F=n.querySelector(`option[value="${f}"]`);F.disabled=!0}if(l=="seg3"){for(var m=0;m<o.length;m++){var P=e[m],E=o[m],k=n[m];P.value==f||P.value==A?P.disabled=!0:P.disabled=!1,E.value==_||E.value==A?E.disabled=!0:E.disabled=!1,k.value==_||k.value==f?k.disabled=!0:k.disabled=!1}let Q=e.querySelector(`option[value="${U}"]`);Q.disabled=!0;let L=o.querySelector(`option[value="${U}"]`);L.disabled=!0;let F=n.querySelector(`option[value="${U}"]`);F.disabled=!0}if(l=="seg4"){for(var m=0;m<e.length;m++){var P=e[m],E=o[m],C=a[m];P.value==f||P.value==U?P.disabled=!0:P.disabled=!1,E.value==_||E.value==U?E.disabled=!0:E.disabled=!1,C.value==_||C.value==f?C.disabled=!0:C.disabled=!1}let Q=e.querySelector(`option[value="${A}"]`);Q.disabled=!0;let L=o.querySelector(`option[value="${A}"]`);L.disabled=!0;let F=a.querySelector(`option[value="${A}"]`);F.disabled=!0}e[0].disabled=!0,o[0].disabled=!0,a[0].disabled=!0,n[0].disabled=!0}function ot(l){let e=document.querySelectorAll("[atr='requerido']");for(let _=0;_<e.length;_++)if(e[_].value==""||e[_].value==null){V.value=!0,I.value='El campo "'+e[_].name+'" no puede quedar vac\xEDo';return}let o=document.getElementById("idvig").value;if(o==""){V.value=!0,I.value='El campo "vigencia" no puede quedar vac\xEDo';return}let a=o.split("~");if(new Date(a[0]),new Date(a[1]),t.vigencia=o,t.fec_ini=Ae(a[0]),t.fec_fin=Ae(a[1]),console.log("fecha: ",t.fec_ini),console.log("fecha: ",t.fec_ini),u.value.length<1){V.value=!0,I.value="No captur\xF3 ning\xFAn art\xEDculo en la promoci\xF3n.",console.log("No capturo articulos");return}if(t.sucSelected=Pe(),t.sucSelected.length<1){V.value=!0,I.value="No seleccion\xF3 ninguna sucursal para aplicar la promoci\xF3n.";return}t.precBase=="-1"&&(t.precBase=t.sucSelected[0]);let n=document.getElementById("mostrador"),g=document.getElementById("retail");n.checked?t.mostrador=1:t.mostrador=0,g.checked?t.retail=1:t.retail=0,t.u_alta=w.nomCto;let v=t.proveedor.trim().split(" ");t.proveedor=v[0];let D={datos:t};if(t.tipo==1||t.tipo==5||t.tipo==6){console.log(w.numProm);var N=w.numProm.split(" ");ke(q+"upd-prm?idprom="+N[0],D).then(async _=>{console.log("respuesta post"),console.log(_),"error"in _?(console.log("Tiene errores"),I.value="Ocurri\xF3 un error al guardar. "+_.error,V.value=!0):(console.log("NO tiene errores"),Z.value=!0,await ae(1500),Z.value=!1,Me(_.id+" "+t.tipo),ve.push({path:"/vistapromo/mis-capturas"}))})}if(t.tipo==2||t.tipo==3||t.tipo==4){console.log(w.numProm);var N=w.numProm.split(" ");ke(q+"upd-cmb?idprom="+N[0],D).then(async f=>{console.log("respuesta post"),console.log(f),"error"in f?(console.log("Tiene errores"),I.value="Ocurri\xF3 un error al guardar. "+f.error,V.value=!0):(console.log("NO tiene errores"),Z.value=!0,await ae(1500),Z.value=!1,Me(f.id+" "+t.tipo),ve.push({path:"/vistapromo/mis-capturas"}))})}}function lt(l){return l<10?"0"+(l+1):""+l}function at(l){return l<10?"0"+l:""+l}function Ae(l){l=l.trim();let e=l.split(" "),o=lt(Oe.indexOf(e[1]+"")),a=e[2]+""+o+e[0];return console.log(a),a}async function ke(l="",e={}){const o=await fetch(l,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)});return console.log(o),o.json()}function Pe(){let l=[],e=document.getElementsByClassName("sucursal");for(let o=0;o<e.length;o++)e[o].checked&&l.push(e[o].value);return l}async function rt(l){let e=l;for(let o=0;o<e.length;o++)document.getElementById("suc_"+e[o].suc).checked=!0}async function dt(l){t.proveedor,te.value=[],l.target.classList.remove("ring","ring-red-500"),ue.value="";let e=!1,o=document.getElementById("acuerdo");t.folioAcuerdo="",o.removeAttribute("disabled"),o.classList.remove("ring","ring-red-500"),ie.value="";for(let a=0;a<$.value.length;a++)if($.value[a].proveedor==t.proveedor.trim().split(" ")[0]){e=!0,console.log("si existe");break}e||(l.target.classList.add("ring","ring-red-500"),ue.value="Proveedor no existe o no est\xE1 ligado a su usuario"),await Ie(),console.log(K.value),console.log(K.value.length==0),K.value.length==0&&(o.setAttribute("disabled",""),o.classList.add("ring","ring-red-500"),ie.value="No se encontr\xF3 ning\xFAn acuerdo ligado a este proveedor")}function re(l){let e=l.substring(0,4),o=l.substring(4,6),a=l.substring(6),n=new Date(e,parseInt(o)-1,a),g=["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"];return console.log("dia",n.getDate()),at(n.getDate())+" "+g[n.getMonth()]+" "+n.getFullYear()}function nt(l){let e={};if(c.value.prom.tpoProm==1||c.value.prom.tpoProm==5||c.value.prom.tpoProm==6){for(let o=0;o<l.length;o++)e={},e.cve=l[o].cve_art,e.precio1=l[o].precio_0,e.precio2=l[o].precio_1,e.precio3=l[o].precio_2,e.precio4=l[o].precio_3,e.precio5=l[o].precio_4,e.des1=l[o].des_art,e.cobradas=parseFloat(l[o].cobradas),e.emp_cob="PZA",e.regaladas=parseFloat(l[o].regaladas),e.emp_reg=l[o].emp_reg,e.cod_reg=l[o].art_reg,e.desc_reg=l[o].desc_reg,e.fac_min_reg=parseFloat(l[o].fac_min_reg);u.value.push(e)}if(c.value.prom.tpoProm==2||c.value.prom.tpoProm==3){t.fac_min_compra="PZA",t.fac_min_regalo="PZA";for(let o=0;o<l.length;o++)e={},e.cve=l[o].cve_art,e.precio1=l[o].precio_0,e.precio2=l[o].precio_1,e.precio3=l[o].precio_2,e.precio4=l[o].precio_3,e.precio5=l[o].precio_4,e.des1=l[o].des_art,e.cobradas=parseFloat(l[o].cantidad),e.emp_cob="PZA",e.regaladas=parseFloat(l[o].precio_0),e.emp_reg=l[o].emp_reg,e.cod_reg=l[o].art_reg,e.desc_reg=parseFloat(l[o].precio_4),e.fac_min_reg=parseFloat(l[o].fac_min_reg),u.value.push(e);console.log(u.value)}}const Z=b(!1),xe=function(l){var e=[".","-","+","e","ArrowDown","ArrowUp"];e.includes(l.key)&&l.preventDefault()};function st(){let l=document.getElementById("cod_cob");l.setAttribute("disabled",!0),l.classList.add("disabled:opacity-75"),document.getElementById("btn_add").classList.add("hidden")}function Se(){for(let l=1;l<6;l++){let e=document.getElementById("precio"+l);e.textContent="";let o=document.getElementById("pre_prom"+l);o.classList.remove("ring","ring-red-500"),o.value="";let a=document.getElementById("emp"+l);a.textContent="";let n=document.getElementById("porcen_prom"+l);n.classList.remove("ring","ring-red-500"),n.value="",document.getElementById("dif"+l).textContent=""}}function ct(l){u.value[l].precio1=document.getElementById("pre_prom1").value,u.value[l].precio2=document.getElementById("pre_prom2").value,u.value[l].precio3=document.getElementById("pre_prom3").value,u.value[l].precio4=document.getElementById("pre_prom4").value,u.value[l].precio5=document.getElementById("pre_prom5").value}function Me(l){window.open(q+"formato?idprom="+l,"_blank")}const ut=function(l){Ve(l);let e=document.getElementById("regaladas");(t.tipo==2||t.tipo==3)&&(e.focus(),e.select()),(t.tipo==5||t.tipo==6)&&(e.focus(),e.select())},it=function(l){Ve(l)},mt=function(l){document.getElementById("emp_reg").focus()},pt=function(l){document.getElementById("cod_cob").focus()};return(l,e)=>(p(),B(ft,null,{default:d(()=>[r(W,{hasFooter:!1,modelValue:M.value,"onUpdate:modelValue":e[0]||(e[0]=o=>M.value=o),blocked:!0,title:"Cargando la informaci\xF3n"},{default:d(()=>[wt]),_:1},8,["modelValue"]),r(W,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=o=>V.value=o),title:"No se pudo guardar la promoci\xF3n",button:"secondary",hasButton:""},{default:d(()=>[h("p",null,J(I.value),1)]),_:1},8,["modelValue"]),r(W,{hasFooter:!1,modelValue:Z.value,"onUpdate:modelValue":e[2]||(e[2]=o=>Z.value=o),title:"Promoci\xF3n creada correctamente",blocked:!0},{default:d(()=>[Dt]),_:1},8,["modelValue"]),r(W,{modelValue:j.value,"onUpdate:modelValue":e[3]||(e[3]=o=>j.value=o),title:"Error al capturar el art\xEDculo",hasFooter:!1,titleClass:"mx-auto mb-3",blocked:!0},{default:d(()=>[Nt,h("p",null,J(I.value),1)]),_:1},8,["modelValue"]),r(W,{hasFooter:!1,modelValue:l.artAgregado,"onUpdate:modelValue":e[4]||(e[4]=o=>l.artAgregado=o),title:"Art\xEDculo agregado",blocked:!0},{default:d(()=>[Tt]),_:1},8,["modelValue"]),r(Te,{id:"sect"},{default:d(()=>[r(Ut,{icon:x(Et),title:"Capturar nueva Promoci\xF3n/Combo",main:""},null,8,["icon"]),r(Ue,{form:"",onSubmit:we(Be,["prevent"])},{default:d(()=>[r(ee,{label:"Descripci\xF3n y Tipo",id:"acc_desc"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Nombre de la promoci\xF3n*"},{default:d(()=>[r(i,{type:"text",modelValue:t.nombre,"onUpdate:modelValue":e[5]||(e[5]=o=>t.nombre=o),attrr:"requerido",name:"nombre",id:"nom",required:"",placeholder:"Nombre de la promoci\xF3n*",otherClasses:"uppercase"},null,8,["modelValue"])]),_:1}),r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Tipo de promoci\xF3n*"},{default:d(()=>[(p(),B(i,{modelValue:t.tipo,"onUpdate:modelValue":e[6]||(e[6]=o=>t.tipo=o),options:be,key:l.prueba,attrr:"requerido",required:"",onChange:he,name:"tipo",title:"Tipo De Promoci\xF3n*",otherClasses:"campo",id:"tipo"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),r(s,null,{default:d(()=>[r(s,{label:"Tipo de indicador*"},{default:d(()=>[r(i,{modelValue:t.indicador,"onUpdate:modelValue":e[7]||(e[7]=o=>t.indicador=o),options:ye,attrr:"requerido",required:"",name:"indicador",title:"Tipo De Indicador*",otherClasses:"campo"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t.tipo==1||t.tipo==5||t.tipo==6||t.tipo==3?(p(),B(ee,{key:0,label:"Proveedor y Acuerdo",id:"acc_prov"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Num Proveedor:*"},{default:d(()=>[r(i,{type:"text",id:"prov",modelValue:t.proveedor,"onUpdate:modelValue":e[8]||(e[8]=o=>t.proveedor=o),attrr:"requerido",name:"proveedor",otherClasses:"campo",placeholder:"N\xFAmero de Proveedor*",required:"",errorMsg:ue.value,onChange:dt,multiple:"",list:"prov_list"},null,8,["modelValue","errorMsg"])]),_:1}),r(s,null,{default:d(()=>[r(s,{label:"Paga:*"},{default:d(()=>[r(i,{options:Ee,modelValue:t.paga,"onUpdate:modelValue":e[9]||(e[9]=o=>t.paga=o),required:"",attrr:"requerido",name:"paga",otherClasses:"campo"},null,8,["modelValue"])]),_:1}),r(s,{label:"Folio Acuerdo:*"},{default:d(()=>[r(i,{type:"text",id:"acuerdo",multiple:"",list:"ac_list",required:"",attrr:"requerido",name:"folioAcuerdo",otherClasses:"campo",onChange:Qe,modelValue:t.folioAcuerdo,"onUpdate:modelValue":e[10]||(e[10]=o=>t.folioAcuerdo=o),errorMsg:ie.value,placeholder:"Folio de Acuerdo"},null,8,["modelValue","errorMsg"])]),_:1}),r(s,{label:"Bolet\xEDn:"},{default:d(()=>[r(i,{type:"text",modelValue:t.boletin,"onUpdate:modelValue":e[11]||(e[11]=o=>t.boletin=o),disabled:"",placeholder:"Bolet\xEDn",id:"boletin"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),h("datalist",qt,[(p(!0),z(Ne,null,De(x(Le),o=>(p(),z("option",{key:o.proveedor,value:o.proveedor+" - "+o.nom},J(o.proveedor),9,$t))),128))]),h("datalist",Ot,[(p(!0),z(Ne,null,De(x(oe),o=>(p(),z("option",{key:o.folio,value:o.Folio},J(o.Folio),9,Rt))),128))])]),_:1})):y("",!0),r(ee,{label:"Restricciones",id:"acc_restric"},{default:d(()=>[r(s,{otherClasses:""},{default:d(()=>[r(s,{label:"Limitado a:"},{default:d(()=>[r(i,{type:"text",modelValue:t.limPzs,"onUpdate:modelValue":e[12]||(e[12]=o=>t.limPzs=o),name:"limPzs",otherClasses:"campo",placeholder:"Piezas"},null,8,["modelValue"])]),_:1}),r(s,{label:"Unidades por venta:"},{default:d(()=>[r(i,{type:"text",modelValue:t.udsVenta,"onUpdate:modelValue":e[13]||(e[13]=o=>t.udsVenta=o),name:"udsVenta",otherClasses:"campo",placeholder:"PZAS"},null,8,["modelValue"])]),_:1}),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:0,label:"Cantidad m\xEDnima:"},{default:d(()=>[r(i,{type:"text",modelValue:t.cantMin,"onUpdate:modelValue":e[14]||(e[14]=o=>t.cantMin=o),name:"cantMin",otherClasses:"campo",placeholder:"PZS"},null,8,["modelValue"])]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:1,label:"Monto compra m\xEDnima:"},{default:d(()=>[r(i,{type:"text",modelValue:t.montoMin,"onUpdate:modelValue":e[15]||(e[15]=o=>t.montoMin=o),name:"montoMin",otherClasses:"campo",placeholder:"$0.00"},null,8,["modelValue"])]),_:1})):y("",!0)]),_:1})]),_:1}),r(s,{otherClasses:"mt-3 mb-6 mx-3",label:"Vigencia*"},{default:d(()=>[r(ht,{idDate:"idvig"}),r(Mt,{class:"ml-3",attrr:"requerido",otherClasses:"campo",modelValue:t.aplicaSim,"onUpdate:modelValue":e[16]||(e[16]=o=>t.aplicaSim=o),name:"similares",type:"switch",options:{one:"Aplica similares"}},null,8,["modelValue"])]),_:1}),r(ee,{label:"Cliente y Pago",id:"acc_cli"},{default:d(()=>[r(s,null,{default:d(()=>[r(s,{label:"Cliente:"},{default:d(()=>[r(i,{type:"text",modelValue:t.cliente,"onUpdate:modelValue":e[17]||(e[17]=o=>t.cliente=o),onChange:tt,placeholder:"N\xFAmero de Cliente",id:"cliente",errorMsg:me.value},null,8,["modelValue","errorMsg"])]),_:1}),r(s,{label:"Condici\xF3n de Pago:"},{default:d(()=>[r(i,{options:Re,modelValue:t.condPago,"onUpdate:modelValue":e[18]||(e[18]=o=>t.condPago=o)},null,8,["modelValue"])]),_:1})]),_:1}),r(s,{label:"Segmentos de Mercado:",otherClasses:"mt-3"},{default:d(()=>[r(i,{modelValue:t.seg1,"onUpdate:modelValue":e[19]||(e[19]=o=>t.seg1=o),options:T,name:"seg1",id:"seg1",onChange:e[20]||(e[20]=o=>G("seg1")),title:"Segmento 1 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:t.seg2,"onUpdate:modelValue":e[21]||(e[21]=o=>t.seg2=o),options:T,name:"seg2",id:"seg2",onChange:e[22]||(e[22]=o=>G("seg2")),title:"Segmento 2 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:t.seg3,"onUpdate:modelValue":e[23]||(e[23]=o=>t.seg3=o),options:T,name:"seg3",id:"seg3",onChange:e[24]||(e[24]=o=>G("seg3")),title:"Segmento 3 mercado",otherClasses:"campo"},null,8,["modelValue"]),r(i,{modelValue:t.seg4,"onUpdate:modelValue":e[25]||(e[25]=o=>t.seg4=o),options:T,name:"seg4",id:"seg4",onChange:e[26]||(e[26]=o=>G("seg4")),title:"Segmento 4 mercado",otherClasses:"campo"},null,8,["modelValue"])]),_:1})]),_:1}),r(ee,{label:"Aplica para:*",id:"acc_suc"},{default:d(()=>[r(s,null,{default:d(()=>[r(Ct,{sucBase:t.precBase},null,8,["sucBase"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),r(Te,{class:"pt-0"},{default:d(()=>[r(Ue,{CardBox:"",form:"",onSubmit:we(Be,["prevent"])},{footer:d(()=>[]),default:d(()=>[r(s,{label:"Art\xEDculos"},{default:d(()=>[r(s,{label:"Precios seg\xFAn:"},{default:d(()=>[r(i,{options:fe,modelValue:t.precBase,"onUpdate:modelValue":e[27]||(e[27]=o=>t.precBase=o),id:"sucbase",name:"forzado",title:"Precios seg\xFAn: ",placeholder:"Precios seg\xFAn:"},null,8,["modelValue"])]),_:1}),h("div",null,[Lt,h("span",null,[h("b",null,J(x(u).length),1)])])]),_:1}),r(qe),t.tipo==1||t.tipo==6?(p(),B(Vt,{key:0,arts:x(u)},null,8,["arts"])):y("",!0),t.tipo==5||t.tipo==6||t.tipo==3||t.tipo==4||t.tipo==2?(p(),z("div",Ft,[r(s,null,{default:d(()=>[r(s,{label:"Comprando:*"},{default:d(()=>[r(i,{modelValue:t.cobradas,"onUpdate:modelValue":e[28]||(e[28]=o=>t.cobradas=o),type:"number",onKeydown:xe,name:"cobradas",otherClasses:"campo",id:"cobradas",onKeyup:ne(pt,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),t.tipo==5||t.tipo==6?(p(),z("div",zt,[r(s,{label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:t.fac_min_compra,"onUpdate:modelValue":e[29]||(e[29]=o=>t.fac_min_compra=o),id:"emp_cob",name:"emp_cob",otherClasses:"campo"},null,8,["modelValue"])]),_:1})])):y("",!0),t.tipo==2||t.tipo==3||t.tipo==4?(p(),z("div",Kt,[r(s,{label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:t.fac_min_compra,"onUpdate:modelValue":e[30]||(e[30]=o=>t.fac_min_compra=o),id:"emp_cob",name:"emp_cob",otherClasses:"campo",disabled:""},null,8,["modelValue"])]),_:1})])):y("",!0),r(s,{label:"Del C\xF3digo:*"},{default:d(()=>[r(i,{type:"text",id:"cod_cob",modelValue:t.cve,"onUpdate:modelValue":e[31]||(e[31]=o=>t.cve=o),name:"cod_cob",otherClasses:"campo",errorMsg:R.value,onKeyup:ne(ut,["enter"])},null,8,["modelValue","errorMsg","onKeyup"])]),_:1}),r(s,{label:"Descripci\xF3n"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_cob"})]),_:1})]),_:1}),r(s,{class:"mt-4"},{default:d(()=>[t.tipo==3||t.tipo==4||t.tipo==2?(p(),B(s,{key:0,label:"Precio Art:"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_reg"})]),_:1})):y("",!0),t.tipo==3?(p(),B(s,{key:1,label:"Precio del Combo: $*"},{default:d(()=>[r(i,{modelValue:t.regaladas,"onUpdate:modelValue":e[32]||(e[32]=o=>t.regaladas=o),type:"number",id:"regaladas",name:"regaladas",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),t.tipo==4||t.tipo==2?(p(),B(s,{key:2,label:"Precio del Articulo: $*"},{default:d(()=>[r(i,{modelValue:t.regaladas,"onUpdate:modelValue":e[33]||(e[33]=o=>t.regaladas=o),type:"number",id:"regaladas",name:"regaladas",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:3,label:"Se regalan:*"},{default:d(()=>[r(i,{modelValue:t.regaladas,"onUpdate:modelValue":e[34]||(e[34]=o=>t.regaladas=o),type:"number",onKeydown:xe,id:"regaladas",onKeyup:ne(mt,["enter"]),name:"regaladas",otherClasses:"campo"},null,8,["modelValue","onKeyup"])]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:4,label:"Emp:*"},{default:d(()=>[r(i,{options:X,modelValue:t.fac_min_regalo,"onUpdate:modelValue":e[35]||(e[35]=o=>t.fac_min_regalo=o),id:"emp_reg",name:"emp_reg",otherClasses:"campo"},null,8,["modelValue"])]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:5,label:"Del C\xF3digo:*"},{default:d(()=>[r(i,{type:"text",id:"art_reg",modelValue:t.cod_reg,"onUpdate:modelValue":e[36]||(e[36]=o=>t.cod_reg=o),onKeyup:ne(it,["enter"]),name:"art_reg",otherClasses:"campo",errorMsg:H.value},null,8,["modelValue","onKeyup","errorMsg"])]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:6,label:"De Regalo"},{default:d(()=>[r(i,{type:"text",disabled:"",id:"desc_art_reg"})]),_:1})):y("",!0),t.tipo==1||t.tipo==5||t.tipo==6?(p(),B(s,{key:7,label:"Fac Min Reg",help:"ATENCI\xD3N: Se recomienda no modificar este valor"},{default:d(()=>[r(i,{type:"number",modelValue:t.fac_min_regalo1,"onUpdate:modelValue":e[37]||(e[37]=o=>t.fac_min_regalo1=o),placeholder:"1",id:"fac_min_reg"},null,8,["modelValue"])]),_:1})):y("",!0),h("div",jt,[r(bt,{type:"justify-start lg:justify-end","no-wrap":""},{default:d(()=>[r(se,{id:"add-reg",color:"success",class:"f-left",label:"Agregar art\xEDculo",onClick:ze}),r(se,{color:"success",class:"f-left hidden",label:"Actualizar art\xEDculo",id:"btn-upd-reg",onClick:je}),r(se,{color:"danger",class:"f-left hidden",label:"Cancelar",onClick:O,id:"btn-cancel-reg"})]),_:1})])]),_:1})])):y("",!0),r(qe),h("div",null,[Ht,h("span",null,[h("b",null,J(x(u).length),1)])]),t.tipo==1?(p(),B(At,{key:2,arts:x(u)},null,8,["arts"])):y("",!0),t.tipo==5||t.tipo==6?(p(),B(kt,{key:3,campos:x(ce),arts:x(u)},null,8,["campos","arts"])):y("",!0),t.tipo==3?(p(),B(Pt,{key:4,campos:x(ce),arts:x(u)},null,8,["campos","arts"])):y("",!0),t.tipo==4||t.tipo==2?(p(),B(xt,{key:5,campos:x(ce),arts:x(u)},null,8,["campos","arts"])):y("",!0)]),_:1},8,["onSubmit"]),r(se,{label:"Guardar nuevos datos",id:"btn_save",type:"submit",class:"mt-4 w-full",icon:x(Bt),color:"success",onClick:e[38]||(e[38]=o=>ot())},null,8,["icon"])]),_:1})]),_:1}))}};export{lo as default};

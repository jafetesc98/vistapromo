import{p as U,d as A,b as u,v as p,o as s,c as l,F as k,K as y,C as n,D as r,a as e,Q as S,g as _,w as h,f,m as i,R as V,l as m,k as v,S as D,T as I,t as O}from"./index.3a23c784.js";const R={key:0,class:"p-3 bg-gray-100/50 dark:bg-slate-800"},z={class:"px-3"},H={key:0},K=e("th",{class:"text-center"},"ID PRM",-1),Q=e("th",null,"Proveedor",-1),q=e("th",null,"Descripcion",-1),G=e("th",{class:"text-center"},"Fec Ini",-1),J=e("th",{class:"text-center"},"Fec Fin",-1),W=e("th",{class:"text-center"},"Tipo",-1),X=e("th",{class:"text-center"},"Estado",-1),Y=e("th",null,null,-1),Z=["data-label"],tt=["data-label"],et=e("br",null,null,-1),at={class:"text-sm"},st=["data-label"],lt={key:0,class:"text"},nt={key:1,class:"text-sm"},rt=["data-label"],ct=["data-label"],ot=["data-label"],it=["data-label","data-label1"],dt=["data-label"],ut={key:2,class:"before:hidden lg:w-1 whitespace-nowrap"},_t={key:3,class:"before:hidden lg:w-1 whitespace-nowrap"},ht={key:4,class:"before:hidden lg:w-1 whitespace-nowrap"},bt={class:"p-3 lg:px-6 border-t border-gray-100 dark:border-slate-800"},kt={__name:"TablePrmCap",props:{checkable:Boolean,promos:[Array,Object],vista:{type:String,default:""}},setup(C){const b=C,B=a=>{switch(a){case"0":return"En revisi\xF3n";case"1":return"Autorizada";case"2":return"Descartada";case"-2":return"Eliminada";case"-1":default:return"Por revisar"}},E=a=>{switch(a=parseInt(a),a){case 1:return"Precio Promoci\xF3n";case 2:return"Combo";case 3:return"Precio espec\xEDfico";case 5:return"Mercanc\xEDa sin cargo";case 6:return"Precio + mercanc\xEDa sin cargo";default:return"no identificada"}},w=U(),P=A();u(!1),u(!1);const g=u(10),d=u(0),x=u([]),F=p(()=>b.promos.slice(g.value*d.value,g.value*(d.value+1))),L=p(()=>Math.ceil(b.promos.length/g.value)),$=p(()=>d.value+1),M=p(()=>{const a=[];for(let o=0;o<L.value;o++)a.push(o);return a});function c(a){let o=a.target.closest("td");P.numProm=o.getAttribute("data-label"),console.log(P.numProm),w.push({path:"/vistapromo/detalle-prom"})}function T(a){let o=a.target.closest("button");P.numProm=o.getAttribute("data-label"),w.push({path:"/vistapromo/editar-prom"})}function N(a){window.open(O+"formato?idprom="+a,"_blank")}return(a,o)=>(s(),l(k,null,[x.value.length?(s(),l("div",R,[(s(!0),l(k,null,y(x.value,t=>(s(),l("span",{key:t.id,class:"inline-block px-2 py-1 rounded-sm mr-2 text-sm bg-gray-100 dark:bg-slate-700"},n(t.name),1))),128))])):r("",!0),e("table",z,[e("thead",null,[e("tr",null,[C.checkable?(s(),l("th",H)):r("",!0),K,Q,q,G,J,W,X,Y])]),e("tbody",null,[(s(!0),l(k,null,y(i(F),t=>(s(),l("tr",{key:t.id},[e("td",{"data-label":t.id+" "+t.tpoProm,to:"/vistapromo/capturar",onClick:c,class:"cursor-pointer text-center"},n(t.id),9,Z),t.nom_prov!=a.NULL?(s(),l("td",{key:0,"data-label":t.id+" "+t.tpoProm,onClick:c,class:"cursor-pointer"},[S(n(t.proveedor)+" ",1),et,e("span",at,n(t.nom_prov.trim()),1)],8,tt)):r("",!0),t.nom_prov==a.NULL?(s(),l("td",{key:1,"data-label":t.id+" "+t.tpoProm,onClick:c,class:"cursor-pointer"},[t.nom_prov==a.NULL?(s(),l("span",lt,n("COMBO"))):r("",!0),t.nom_prov!=a.NULL?(s(),l("span",nt,n(t.nom_prov.trim()),1)):r("",!0)],8,st)):r("",!0),e("td",{"data-label":t.id+" "+t.tpoProm,onClick:c,class:"cursor-pointer"},n(t.desProm),9,rt),e("td",{"data-label":t.id+" "+t.tpoProm,onClick:c,class:"cursor-pointer"},n(t.fec_ini),9,ct),e("td",{"data-label":t.id+" "+t.tpoProm,onClick:c,class:"cursor-pointer"},n(t.fec_fin),9,ot),e("td",{"data-label":t.id+" "+t.tpoProm,"data-label1":t.tpoProm,class:"uppercase cursor-pointer text-center",onClick:c},n(E(t.tpoProm)),9,it),e("td",{"data-label":t.id+" "+t.tpoProm,class:"uppercase cursor-pointer text-center",onClick:c},n(B(t.status)),9,dt),b.vista=="porComprador"?(s(),l("td",ut,[_(v,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="-1"?(s(),f(m,{key:0,color:"info",icon:i(V),small:"","data-label":t.id+" "+t.tpoProm,onClick:T},null,8,["icon","data-label"])):r("",!0)]),_:2},1024)])):r("",!0),b.vista=="porComprador"?(s(),l("td",_t,[_(v,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="-1"?(s(),f(m,{key:0,color:"info",icon:i(D),small:"","data-label":t.id+" "+t.tpoProm,onClick:j=>N(t.id+" "+t.tpoProm)},null,8,["icon","data-label","onClick"])):r("",!0)]),_:2},1024)])):(s(),l("td",ht,[_(v,{type:"justify-start lg:justify-end","no-wrap":""},{default:h(()=>[t.status=="1"?(s(),f(m,{key:0,color:"info",icon:i(D),small:"","data-label":t.id,onClick:j=>N(t.id+" "+t.tpoProm)},null,8,["icon","data-label","onClick"])):r("",!0)]),_:2},1024)]))]))),128))])]),e("div",bt,[_(I,null,{default:h(()=>[_(v,null,{default:h(()=>[(s(!0),l(k,null,y(i(M),t=>(s(),f(m,{key:t,active:t===d.value,label:t+1,color:t===d.value?"lightDark":"whiteDark",small:"",onClick:j=>d.value=t},null,8,["active","label","color","onClick"]))),128))]),_:1}),e("small",null,"P\xE1gina "+n(i($))+" de "+n(i(L)),1)]),_:1})])],64))}};export{kt as _};

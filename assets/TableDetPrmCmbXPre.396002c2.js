import{e as b,d as u,b as i,o as _,c as p,a as t,C as s,F as m,K as x}from"./index.8b78a05d.js";const E={autoriza:null,boletin:null,cantidad_minima:null,compra_minima:null,con_pag:null,created_at:"",cte:null,desProm:"",fec_fin:"",fec_ini:"",folio_ac:"",hra_fin:"",hra_ini:"",id:"",inc_similares:"",mostrador:null,numProm:null,paga:"",proveedor:"",retail:"",seg_0:null,seg_1:null,seg_2:null,seg_3:null,seg_4:null,status:"",tpoProm:"",u_alt:"",uds_limite:null,uds_por_cte:null,uds_vendidas:null,updated_at:""},F={class:"px-3"},C=t("td",{class:"py-2 text-sm"},[t("b",null,"FOLIO:")],-1),O={class:"py-2 text-sm",id:"folioprm"},g=t("td",{class:"py-2 text-sm"},[t("b",null,"ESTADO:")],-1),I={class:"py-2 text-sm tracking-wider font-medium",id:"estado"},R=t("td",{class:"py-2 text-sm"},[t("b",null,"FOLIO MKS:")],-1),v={class:"py-2 text-sm"},S=t("td",{class:"py-2 text-sm"},[t("b",null,"AUTORIZADA POR:")],-1),D={class:"py-2 text-sm"},M=t("td",{class:"py-2 text-sm"},[t("b",null,"DESCRIPCI\xD3N:")],-1),N={class:"py-2 text-sm",colspan:"3"},T=t("td",{class:"py-2 text-sm"},[t("b",null,"PAGA:")],-1),L={class:"py-2 text-sm"},B=t("td",{class:"py-2 text-sm"},[t("b",null,"Tipo Promoci\xF3n:")],-1),k={class:"py-2 text-sm tracking-wider font-medium",id:"tpoProm"},j=t("td",{class:"py-2 text-sm"},[t("b",null,"PROVEEDOR:")],-1),V={class:"py-2 text-sm",colspan:"3"},G=t("td",{class:"py-2 text-sm"},[t("b",null,"ACUERDO:")],-1),U={class:"py-2 text-sm"},w=t("td",{class:"py-2 text-sm"},[t("b",null,"BOLET\xCDN:")],-1),Z={class:"py-2 text-sm"},X=t("td",{class:"py-2 text-sm"},[t("b",null,"PERIODO:")],-1),z={class:"py-2 text-sm"},K=t("td",{class:"py-2 text-sm"},[t("b",null,"APLICA SIM:")],-1),H={class:"py-2 text-sm"},Y=t("td",{class:"py-2 text-sm"},[t("b",null,"CLIENTE:")],-1),q={class:"py-2 text-sm"},J=t("td",{class:"py-2 text-sm"},[t("b",null,"SUC PRECIO BASE:")],-1),Q={class:"py-2 text-sm"},W=t("td",{class:"py-2 text-sm"},[t("b",null,"SUCURSALES:")],-1),tt={class:"py-2 text-sm",colspan:"5"},st=t("td",{class:"py-2 text-sm"},[t("b",null,"APLICA A:")],-1),et={class:"py-2 text-sm"},ot=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 1:")],-1),ct={class:"py-2 text-sm"},lt=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 2:")],-1),nt={class:"py-2 text-sm"},rt=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 3:")],-1),at={class:"py-2 text-sm"},dt=t("td",{class:"py-2 text-sm"},[t("b",null,"SEG 4:")],-1),_t={class:"py-2 text-sm"},pt=t("td",{class:"py-2 text-sm"},[t("b",null,"LIM A:")],-1),it={class:"py-2 text-sm"},ht=t("td",{class:"py-2 text-sm"},[t("b",null,"UNI X VTA:")],-1),mt={class:"py-2 text-sm"},ut=t("td",{class:"py-2 text-sm"},[t("b",null,"CANT MIN:")],-1),xt={class:"py-2 text-sm"},yt=t("td",{class:"py-2 text-sm"},[t("b",null,"MONTO MIN:")],-1),$t={class:"py-2 text-sm"},bt=t("td",{class:"py-2 text-sm"},[t("b",null,"COND PAG:")],-1),ft={class:"py-2 text-sm"},At=t("td",{class:"py-2 text-sm",colspan:"5"},[t("b",null,"CAPTURADA POR:")],-1),Pt={class:"py-2 text-sm"},Is={__name:"TableHdrPrm",props:{checkable:Boolean,prmhdr:{type:[Object,Array],default:E},sucs:{type:[Object,Array],default:[]}},setup(h){const e=h;b(async function(){n()}),u(),i(!1),i(!1);const n=()=>{if(e.prmhdr.id==null||e.prmhdr.id=="")return;let l=e.prmhdr.id.toString();for(let r=l.length;r<7;r++)l="0"+l;document.getElementById("folioprm").textContent=l},a=()=>{let l=e.prmhdr.status;if(l=="")return;let r=document.getElementById("estado");l=parseInt(l);let $=document.getElementById("tpoProm");switch(e.prmhdr.tpoProm==1?$.classList.add("text-blue-500"):$.classList.add("text-violet-500"),l){case 1:return r.classList.add("text-teal-600"),"AUTORIZADA";case-1:return"POR REVISAR";case 0:return r.classList.add("text-rose-200"),"EN REVISI\xD3N";case-2:return r.classList.add("text-red-600"),"ELIMINADA";case 2:return r.classList.add("text-red-600"),"DENEGADA";default:return""}},c=()=>e.prmhdr.numProm==""||e.prmhdr.numProm==null?"----------":e.prmhdr.tpoProm==6?e.prmhdr.numProm+" / "+e.prmhdr.numPromReg+"(REG)":e.prmhdr.numProm,o=l=>l==""||l==null?"----------":l.slice(6)+"/"+l.slice(4,6)+"/"+l.slice(0,4),d=()=>{if(e.sucs.length==0)return"----------";let l="";for(let r=0;r<e.sucs.length;r++)l+=e.sucs[r].suc+", ";return l=l.slice(0,-2),l},y=()=>{if(e.prmhdr.paga=="")return"----------";switch(e.prmhdr.paga){case 1:case"1":return"PROVEEDOR";case 2:case"2":return"MINIABASTOS";case 3:case"3":return"PROVEEDOR Y MINIABASTOS";default:return"----------"}},f=()=>{switch(console.log(e.prmhdr.tpoProm),e.prmhdr.tpoProm){case 1:case"1":return"PROMOCI\xD3N PRECIO";case 2:case"2":return"COMBO";case 3:case"3":return"PRECIO ESPECIFICO";case 5:case"5":return"MERCANC\xCDA SIN CARGO";case 6:case"6":return"PRECIO + MERCANC\xCDA SIN CARGO";default:return"----------"}},A=()=>e.prmhdr.nom_prov==null?"-----------":e.prmhdr.proveedor+" - "+e.prmhdr.nom_prov,P=()=>{let l="",r=e.prmhdr.retail!=null&&e.prmhdr.retail!="0";return e.prmhdr.mostrador!=null&&e.prmhdr.mostrador!="0"?(l+="MOSTRADOR",r&&(l+=", RETAIL"),l):r?"RETAIL":"----------"};return(l,r)=>(_(),p("table",F,[t("tbody",null,[t("tr",null,[C,t("td",O,s(e.prmhdr.id),1),g,t("td",I,s(a()),1),R,t("td",v,s(c()),1),S,t("td",D,s(e.prmhdr.autoriza),1)]),t("tr",null,[M,t("td",N,s(e.prmhdr.desProm),1),T,t("td",L,s(y()),1),B,t("td",k,s(f()),1)]),t("tr",null,[j,t("td",V,s(A()),1),G,t("td",U,s(e.prmhdr.folio_ac),1),w,t("td",Z,s(e.prmhdr.boletin),1)]),t("tr",null,[X,t("td",z,s(o(e.prmhdr.fec_ini))+" - "+s(o(e.prmhdr.fec_fin)),1),K,t("td",H,s(e.prmhdr.inc_similares),1),Y,t("td",q,s(e.prmhdr.cte),1),J,t("td",Q,s(e.prmhdr.suc_prec_base),1)]),t("tr",null,[W,t("td",tt,[t("p",null,s(d()),1)]),st,t("td",et,s(P()),1)]),t("tr",null,[ot,t("td",ct,s(e.prmhdr.seg_0),1),lt,t("td",nt,s(e.prmhdr.seg_1),1),rt,t("td",at,s(e.prmhdr.seg_2),1),dt,t("td",_t,s(e.prmhdr.seg_3),1)]),t("tr",null,[pt,t("td",it,s(e.prmhdr.uds_limite),1),ht,t("td",mt,s(e.prmhdr.uds_por_cte),1),ut,t("td",xt,s(e.prmhdr.cantidad_minima),1),yt,t("td",$t,s(e.prmhdr.compra_minima),1)]),t("tr",null,[bt,t("td",ft,s(e.prmhdr.con_pag),1),At,t("td",Pt,s(e.prmhdr.u_alt),1)])])]))}},Et={class:"px-3 text-sm"},Ft=t("thead",null,[t("tr",null,[t("th",{class:"text-center"},"C\xF3digo"),t("th",null,"Descripci\xF3n"),t("th",{class:"text-center"},"Emp"),t("th",{class:"text-center"},"Precio Actual"),t("th",{class:"text-center"},"Precio Oferta"),t("th",{class:"text-center"},"Diferencia"),t("th",{class:"text-center"},"% Descuento")])],-1),Ct={class:"py-1 text-center",rowspan:"5"},Ot={class:"py-1",rowspan:"5"},gt={class:"py-1 text-center"},It={class:"py-1 text-center"},Rt={class:"py-1 text-center"},vt={class:"py-1 text-center"},St={class:"py-1 text-center"},Dt={class:"py-1 text-center"},Mt={class:"py-1 text-center"},Nt={class:"py-1 text-center"},Tt={class:"py-1 text-center"},Lt={class:"py-1 text-center"},Bt={class:"py-1 text-center"},kt={class:"py-1 text-center"},jt={class:"py-1 text-center"},Vt={class:"py-1 text-center"},Gt={class:"py-1 text-center"},Ut={class:"py-1 text-center"},wt={class:"py-1 text-center"},Zt={class:"py-1 text-center"},Xt={class:"py-1 text-center"},zt={class:"py-1 text-center"},Kt={class:"py-1 text-center"},Ht={class:"py-1 text-center"},Yt={class:"py-1 text-center"},qt={class:"py-1 text-center"},Jt={class:"py-1 text-center"},Qt=t("tr",null,[t("td",{colspan:"7",class:"p-1"},[t("div",{class:"bg-red px-1"})])],-1),Rs={__name:"TableDetPrm",props:{checkable:Boolean,promos:[Array,Object]},setup(h){const e=h;u(),i(!1),i(!1);function n(a,c,o){let d={};if(c!="")d.precio=c,d.neta=Number((a-c).toFixed(4)).toFixed(4),d.porcentaje=Number((100-c*100/a).toFixed(4)).toFixed(4);else{let y=Number(a.toFixed(4)-(a*o/100).toFixed(4)).toFixed(4);d.precio=y,d.neta=Number(a-d.precio),d.porcentaje=o}return d}return(a,c)=>(_(),p("table",Et,[Ft,t("tbody",null,[(_(!0),p(m,null,x(e.promos,o=>(_(),p(m,{key:o.cve_art},[t("tr",null,[t("td",Ct,[t("b",null,s(o.cve_art),1)]),t("td",Ot,s(o.des_art),1),t("td",gt,s(o.cant_pre0),1),t("td",It,"$ "+s((Math.round(parseFloat(o.precio_vta0)*100)/100).toFixed(4)),1),t("td",Rt,"$ "+s((Math.round(parseFloat(o.precio_0)*100)/100).toFixed(4)),1),t("td",vt,"$ "+s(n(o.precio_vta0,o.precio_0,"").neta),1),t("td",St,s(n(o.precio_vta0,o.precio_0,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Dt,s(o.cant_pre1),1),t("td",Mt,"$ "+s((Math.round(parseFloat(o.precio_vta1)*100)/100).toFixed(4)),1),t("td",Nt,"$ "+s((Math.round(parseFloat(o.precio_1)*100)/100).toFixed(4)),1),t("td",Tt,"$ "+s(n(o.precio_vta1,o.precio_1,"").neta),1),t("td",Lt,s(n(o.precio_vta1,o.precio_1,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Bt,s(o.cant_pre2),1),t("td",kt,"$ "+s((Math.round(parseFloat(o.precio_vta2)*100)/100).toFixed(4)),1),t("td",jt,"$ "+s((Math.round(parseFloat(o.precio_2)*100)/100).toFixed(4)),1),t("td",Vt,"$ "+s(n(o.precio_vta2,o.precio_2,"").neta),1),t("td",Gt,s(n(o.precio_vta2,o.precio_2,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Ut,s(o.cant_pre3),1),t("td",wt,"$ "+s((Math.round(parseFloat(o.precio_vta3)*100)/100).toFixed(4)),1),t("td",Zt,"$ "+s((Math.round(parseFloat(o.precio_3)*100)/100).toFixed(4)),1),t("td",Xt,"$ "+s(n(o.precio_vta3,o.precio_3,"").neta),1),t("td",zt,s(n(o.precio_vta3,o.precio_3,"").porcentaje)+" %",1)]),t("tr",null,[t("td",Kt,s(o.cant_pre4),1),t("td",Ht,"$ "+s((Math.round(parseFloat(o.precio_vta4)*100)/100).toFixed(4)),1),t("td",Yt,"$ "+s((Math.round(parseFloat(o.precio_4)*100)/100).toFixed(4)),1),t("td",qt,"$ "+s(n(o.precio_vta4,o.precio_4,"").neta),1),t("td",Jt,s(n(o.precio_vta4,o.precio_4,"").porcentaje)+" %",1)]),Qt],64))),128))])]))}},Wt={class:"px-3 text-sm"},ts=t("thead",null,[t("tr",null,[t("th",{class:"",colspan:"2"},"Comprando"),t("th",{class:"",colspan:"2"},"De la CVE"),t("th",{class:"",colspan:"2"},"Se regalan"),t("th",{class:"",colspan:"2"},"De la CVE")])],-1),ss={class:"py-1"},es=t("td",{class:"py-1 text-center"},"PZAS",-1),os={class:"py-1 text-center"},cs={class:"py-1"},ls={class:"py-1 text-center"},ns={class:"py-1 text-center"},rs={class:"py-1 text-center"},as={class:"py-1"},vs={__name:"TableDetPrmReg",props:{checkable:Boolean,promos:[Array,Object]},setup(h){const e=h;return u(),i(!1),i(!1),(n,a)=>(_(),p("table",Wt,[ts,t("tbody",null,[(_(!0),p(m,null,x(e.promos,c=>(_(),p("tr",{key:c.cve},[t("td",ss,s(parseFloat(c.cobradas)),1),es,t("td",os,s(c.cve_art),1),t("td",cs,s(c.des_art),1),t("td",ls,s(parseFloat(c.regaladas)),1),t("td",ns,s(c.emp_reg),1),t("td",rs,s(c.art_reg),1),t("td",as,s(c.desc_reg),1)]))),128))])]))}},ds={class:"px-3 text-sm"},_s=t("thead",null,[t("tr",null,[t("th",{class:"",colspan:"2"},"Cantidad"),t("th",{class:"",colspan:"1"},"CVE"),t("th",{class:"",colspan:"1"},"Descripci\xF3n"),t("th",{class:"",colspan:"1"},"Precio Cat Art "),t("th",{class:"",colspan:"2"},"Precio Art en Combo ")])],-1),ps={class:"py-1"},is=t("td",{class:"py-1 text-center"},"PZAS",-1),hs={class:"py-1 text-center"},ms={class:"py-1"},us={class:"py-1 text-center"},xs={class:"py-1 text-center"},ys=t("tr",null,[t("td",{class:"py-1"}),t("td",{class:"py-1 text-center"}),t("td",{class:"py-1 text-center"}),t("td",{class:"py-1 text-center"}),t("td",{class:"py-1 text-right"},"Total del combo"),t("td",{id:"totalCombo",class:"py-1 text-center"},"$0.00")],-1),Ss={__name:"TableDetPrmCmb",props:{checkable:Boolean,promos:[Array,Object]},setup(h){const e=h;u(),i(!1),i(!1),b(async function(){console.log(e.promos),n(e.promos)});function n(a){let c=0;for(let d=0;d<a.length;d++)c+=a[d].cantidad*a[d].precio_0;let o=document.getElementById("totalCombo");o.innerText="$"+c.toFixed(2)}return(a,c)=>(_(),p("table",ds,[_s,t("tbody",null,[(_(!0),p(m,null,x(e.promos,o=>(_(),p("tr",{key:o.cve},[t("td",ps,s(parseFloat(o.cantidad)),1),is,t("td",hs,s(o.cve_art),1),t("td",ms,s(o.des_art),1),t("td",us,s(parseFloat(o.precio_cat_art)),1),t("td",xs,s(parseFloat(o.precio_0)),1)]))),128)),ys])]))}},$s={class:"px-3 text-sm"},bs=t("thead",null,[t("tr",null,[t("th",{class:"",colspan:"2"},"Cantidad"),t("th",{class:"",colspan:"1"},"CVE"),t("th",{class:"",colspan:"1"},"Descripci\xF3n"),t("th",{class:"",colspan:"1"},"Precio Cat Art X PZA "),t("th",{class:"",colspan:"1"},"Precio Art en Combo X PZA"),t("th",{class:"",colspan:"2"},"Precio Total Combo")])],-1),fs={class:"py-1"},As=t("td",{class:"py-1 text-center"},"PZAS",-1),Ps={class:"py-1 text-center"},Es={class:"py-1"},Fs={class:"py-1 text-center"},Cs={class:"py-1 text-center"},Os={class:"py-1 text-center"},Ds={__name:"TableDetPrmCmbXPre",props:{checkable:Boolean,promos:[Array,Object]},setup(h){const e=h;return u(),i(!1),i(!1),(n,a)=>(_(),p("table",$s,[bs,t("tbody",null,[(_(!0),p(m,null,x(e.promos,c=>(_(),p("tr",{key:c.cve},[t("td",fs,s(parseFloat(c.cantidad)),1),As,t("td",Ps,s(c.cve_art),1),t("td",Es,s(c.des_art),1),t("td",Fs,"$"+s(parseFloat(c.precio_cat_art)),1),t("td",Cs,"$"+s(parseFloat(c.precio_0)),1),t("td",Os,"$"+s(parseFloat(c.precio_0*c.cantidad).toFixed(2)),1)]))),128))])]))}};export{Is as _,vs as a,Ss as b,Ds as c,Rs as d};
